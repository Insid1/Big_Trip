{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://big-trip/./node_modules/flatpickr/dist/flatpickr.min.css","webpack://big-trip/./node_modules/css-loader/dist/runtime/api.js","webpack://big-trip/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://big-trip/./node_modules/dayjs/dayjs.min.js","webpack://big-trip/./node_modules/dayjs/plugin/duration.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://big-trip/webpack/bootstrap","webpack://big-trip/webpack/runtime/compat get default export","webpack://big-trip/webpack/runtime/define property getters","webpack://big-trip/webpack/runtime/hasOwnProperty shorthand","webpack://big-trip/./src/util/observer.js","webpack://big-trip/./src/model/trip-points.js","webpack://big-trip/./src/const.js","webpack://big-trip/./src/model/offers.js","webpack://big-trip/./src/model/destinations.js","webpack://big-trip/./src/util/render.js","webpack://big-trip/./src/view/abstract-component.js","webpack://big-trip/./src/view/trip-sorting.js","webpack://big-trip/./src/view/trip-point-container.js","webpack://big-trip/./src/view/trip-no-point.js","webpack://big-trip/./src/view/loading.js","webpack://big-trip/./src/util/point.js","webpack://big-trip/./src/view/trip-point.js","webpack://big-trip/./src/view/error-message.js","webpack://big-trip/./src/util/common.js","webpack://big-trip/./src/view/smart.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/types/options.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/l10n/default.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/utils/index.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/utils/dom.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/utils/dates.js","webpack://big-trip/./node_modules/flatpickr/dist/esm/index.js","webpack://big-trip/./node_modules/flatpickr/dist/flatpickr.min.css?e03b","webpack://big-trip/./src/view/trip-point-edit.js","webpack://big-trip/./src/util/toast.js","webpack://big-trip/./src/presenter/point.js","webpack://big-trip/./src/presenter/new-point.js","webpack://big-trip/./src/util/filter.js","webpack://big-trip/./src/view/filter.js","webpack://big-trip/./src/view/trip-info.js","webpack://big-trip/./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack://big-trip/./node_modules/chart.js/dist/chart.esm.js","webpack://big-trip/./node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.esm.js","webpack://big-trip/./src/util/chart.js","webpack://big-trip/./src/view/statistic.js","webpack://big-trip/./src/api/api.js","webpack://big-trip/./src/api/provider.js","webpack://big-trip/./src/api/store.js","webpack://big-trip/./src/main.js","webpack://big-trip/./src/model/filter.js","webpack://big-trip/./src/presenter/trip.js","webpack://big-trip/./src/presenter/trip-info.js","webpack://big-trip/./src/presenter/filter.js","webpack://big-trip/./src/presenter/statistic.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:'';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{/*\\n      /*rtl:begin:ignore*/left:0/*\\n      /*rtl:end:ignore*/}/*\\n      /*rtl:begin:ignore*/\\n/*\\n      /*rtl:end:ignore*/\\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{/*\\n      /*rtl:begin:ignore*/right:0/*\\n      /*rtl:end:ignore*/}/*\\n      /*rtl:begin:ignore*/\\n/*\\n      /*rtl:end:ignore*/\\n.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:\\\"\\\";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer + .dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:\\\"\\\";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/flatpickr/dist/flatpickr.min.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:'';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{/*\\n      /*rtl:begin:ignore*/left:0/*\\n      /*rtl:end:ignore*/}/*\\n      /*rtl:begin:ignore*/\\n/*\\n      /*rtl:end:ignore*/\\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{/*\\n      /*rtl:begin:ignore*/right:0/*\\n      /*rtl:end:ignore*/}/*\\n      /*rtl:begin:ignore*/\\n/*\\n      /*rtl:end:ignore*/\\n.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:\\\"\\\";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer + .dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:\\\"\\\";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},D=\"en\",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if(\"string\"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));","!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s():\"function\"==typeof define&&define.amd?define(s):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_duration=s()}(this,(function(){\"use strict\";var t,s,n=1e3,i=6e4,e=36e5,r=864e5,o=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,h=2592e6,a=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:h,days:r,hours:e,minutes:i,seconds:n,milliseconds:1,weeks:6048e5},c=function(t){return t instanceof p},f=function(t,s,n){return new p(t,n,s.$l)},m=function(t){return s.p(t)+\"s\"},l=function(t){return t<0},$=function(t){return l(t)?Math.ceil(t):Math.floor(t)},y=function(t){return Math.abs(t)},g=function(t,s){return t?l(t)?{negative:!0,format:\"\"+y(t)+s}:{negative:!1,format:\"\"+t+s}:{negative:!1,format:\"\"}},p=function(){function l(t,s,n){var i=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return f(t*d[m(s)],this);if(\"number\"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if(\"object\"==typeof t)return Object.keys(t).forEach((function(s){i.$d[m(s)]=t[s]})),this.calMilliseconds(),this;if(\"string\"==typeof t){var e=t.match(a);if(e){var r=e.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var y=l.prototype;return y.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(s,n){return s+(t.$d[n]||0)*d[n]}),0)},y.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=$(t/u),t%=u,this.$d.months=$(t/h),t%=h,this.$d.days=$(t/r),t%=r,this.$d.hours=$(t/e),t%=e,this.$d.minutes=$(t/i),t%=i,this.$d.seconds=$(t/n),t%=n,this.$d.milliseconds=t},y.toISOString=function(){var t=g(this.$d.years,\"Y\"),s=g(this.$d.months,\"M\"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=g(n,\"D\"),e=g(this.$d.hours,\"H\"),r=g(this.$d.minutes,\"M\"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=g(o,\"S\"),h=t.negative||s.negative||i.negative||e.negative||r.negative||u.negative,a=e.format||r.format||u.format?\"T\":\"\",d=(h?\"-\":\"\")+\"P\"+t.format+s.format+i.format+a+e.format+r.format+u.format;return\"P\"===d||\"-P\"===d?\"P0D\":d},y.toJSON=function(){return this.toISOString()},y.format=function(t){var n=t||\"YYYY-MM-DDTHH:mm:ss\",i={Y:this.$d.years,YY:s.s(this.$d.years,2,\"0\"),YYYY:s.s(this.$d.years,4,\"0\"),M:this.$d.months,MM:s.s(this.$d.months,2,\"0\"),D:this.$d.days,DD:s.s(this.$d.days,2,\"0\"),H:this.$d.hours,HH:s.s(this.$d.hours,2,\"0\"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,\"0\"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,\"0\"),SSS:s.s(this.$d.milliseconds,3,\"0\")};return n.replace(o,(function(t,s){return s||String(i[t])}))},y.as=function(t){return this.$ms/d[m(t)]},y.get=function(t){var s=this.$ms,n=m(t);return\"milliseconds\"===n?s%=1e3:s=\"weeks\"===n?$(s/d[n]):this.$d[n],0===s?0:s},y.add=function(t,s,n){var i;return i=s?t*d[m(s)]:c(t)?t.$ms:f(t,this).$ms,f(this.$ms+i*(n?-1:1),this)},y.subtract=function(t,s){return this.add(t,s,!0)},y.locale=function(t){var s=this.clone();return s.$l=t,s},y.clone=function(){return f(this.$ms,this)},y.humanize=function(s){return t().add(this.$ms,\"ms\").locale(this.$l).fromNow(!s)},y.milliseconds=function(){return this.get(\"milliseconds\")},y.asMilliseconds=function(){return this.as(\"milliseconds\")},y.seconds=function(){return this.get(\"seconds\")},y.asSeconds=function(){return this.as(\"seconds\")},y.minutes=function(){return this.get(\"minutes\")},y.asMinutes=function(){return this.as(\"minutes\")},y.hours=function(){return this.get(\"hours\")},y.asHours=function(){return this.as(\"hours\")},y.days=function(){return this.get(\"days\")},y.asDays=function(){return this.as(\"days\")},y.weeks=function(){return this.get(\"weeks\")},y.asWeeks=function(){return this.as(\"weeks\")},y.months=function(){return this.get(\"months\")},y.asMonths=function(){return this.as(\"months\")},y.years=function(){return this.get(\"years\")},y.asYears=function(){return this.as(\"years\")},l}();return function(n,i,e){t=e,s=e().$utils(),e.duration=function(t,s){var n=e.locale();return f(t,{$l:n},s)},e.isDuration=c;var r=i.prototype.add,o=i.prototype.subtract;i.prototype.add=function(t,s){return c(t)&&(t=t.asMilliseconds()),r.bind(this)(t,s)},i.prototype.subtract=function(t,s){return c(t)&&(t=t.asMilliseconds()),o.bind(this)(t,s)}}}));","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default class Observer {\n  constructor() {\n    this._observers = [];\n  }\n\n  addObserver(observer) {\n    this._observers.push(observer);\n  }\n\n  removeObservers(observer) {\n    this._observers = this._observers.filter((existedObserver) => existedObserver !== observer);\n  }\n\n  notify(event, payload) {\n    this._observers.forEach((observer) => observer(event, payload));\n  }\n}\n","import Observer from '../util/observer';\nimport dayjs from 'dayjs';\n\n\nexport default class TripPoints extends Observer {\n  constructor() {\n    super();\n    this._points = [];\n  }\n\n  setPoints(points, updateType) {\n    this._points = points.slice();\n\n    this.notify(updateType);\n  }\n\n  getPoints() {\n    return this._points;\n  }\n\n  updatePoint(updateType, update) {\n    const index = this._points.findIndex((point) => point.id === update.id);\n\n    if (index === -1) {\n      throw new Error('Can\\'t update unexisting task');\n    }\n\n    this._points = [\n      ...this._points.slice(0, index),\n      update,\n      ...this._points.slice(index + 1)\n    ];\n\n    this.notify(updateType, update);\n  }\n\n  addPoint(updateType, update) {\n    this._points = [\n      update,\n      ...this._points\n    ];\n\n    this.notify(updateType, update);\n  }\n\n  deletePoint(updateType, update) {\n    const index = this._points.findIndex((point) => point.id === update.id);\n\n    if (index === -1) {\n      throw new Error('Can\\'t delete unexisting task');\n    }\n\n    this._points = [\n      ...this._points.slice(0, index),\n      ...this._points.slice(index + 1),\n    ];\n\n    this.notify(updateType, update);\n\n  }\n\n  static adaptPointToClient(serverPoint) {\n    const adaptOffers = (offers) => offers.map((offer) => ({\n      name: offer.title,\n      price: offer.price,\n    }));\n    const adaptPhotos = (photos) => photos.map(({description, src}) => ({\n      src: src,\n      alt: description,\n    }));\n    return {\n      id: serverPoint.id,\n      event: serverPoint.type,\n      city: serverPoint.destination.name,\n      fromTime: dayjs(serverPoint['date_from']),\n      toTime: dayjs(serverPoint['date_to']),\n      price: serverPoint.base_price,\n      favorite: serverPoint['is_favorite'],\n      description: serverPoint.destination.description,\n      photos: adaptPhotos(serverPoint.destination.pictures),\n      offers: adaptOffers(serverPoint.offers),\n    };\n  }\n\n  static adaptPointToServer(clientPoint) {\n    const adaptPhotos = (photos) => photos.map(({src, alt}) => ({\n      'src': src,\n      'description': alt,\n    }));\n\n    const adaptOffers = (offers) => offers.map(({name, price}) => ({\n      'title': name,\n      'price': price,\n    }));\n    return {\n      'id': clientPoint.id,\n      'type': clientPoint.event,\n      'date_from': clientPoint.fromTime,\n      'date_to': clientPoint.toTime,\n      'destination': {\n        'name': clientPoint.city,\n        'description': clientPoint.description,\n        'pictures': adaptPhotos(clientPoint.photos),\n      },\n      'base_price': clientPoint.price,\n      'is_favorite': clientPoint.favorite,\n      'offers': adaptOffers(clientPoint.offers),\n    };\n  }\n}\n","const SortType = {\n  DATE: 'date',\n  TIME: 'time',\n  PRICE: 'price',\n};\n\nconst UserAction = {\n  UPDATE_POINT: 'UPDATE_POINT',\n  ADD_POINT: 'ADD_POINT',\n  DELETE_POINT: 'DELETE_POINT',\n  SELECT_FILTER: 'SELECT_FILTER',\n};\n\nconst UpdateType = {\n  PATCH: 'PATCH', // to rerender onlty one point\n  MINOR: 'MINOR', // to rerender all points\n  MAJOR: 'MAJOR', // to rerender all elements on page\n  INIT: 'INIT',\n  INIT_OFFERS: 'INIT_OFFERS',\n  INIT_DESTINATIONS: 'INIT_DESTINATIONS',\n};\n\nconst FilterType = {\n  EVERYTHING: 'everything',\n  FUTURE: 'future',\n  PAST: 'past',\n};\n\nconst ChartType = {\n  PRICE: 'PRICE',\n  PERIOD: 'PERIOD',\n  AMOUNT: 'AMOUNT',\n};\n\nconst OfflineMessage = {\n  DELETE: 'You can\\'t delete task offline',\n  SAVE: 'You can\\'t save task offline',\n  EDIT: 'You can\\'t edit task offline',\n  ADD: 'You can\\'t add task offline',\n};\n\nexport {SortType, UpdateType, UserAction, FilterType, ChartType, OfflineMessage};\n","import Observer from '../util/observer';\n\nexport default class TripOffers extends Observer {\n  constructor() {\n    super();\n    this._offers = [];\n  }\n\n  setOffers(points, updateType) {\n    this._offers = Object.assign({}, points);\n    this.notify(updateType);\n  }\n\n  getOffers() {\n    return this._offers;\n  }\n\n  static adaptOfferToClient(serverOffer) {\n    const adaptedOffers = {};\n    const adaptOffer = (offers) => offers.map((offer) => ({\n      name: offer.title,\n      price: offer.price,\n    }));\n    serverOffer.forEach((offer) => {\n      const tempValues = Object.values(offer);\n      adaptedOffers[tempValues[0]] = adaptOffer(tempValues[1]);\n    });\n    return adaptedOffers;\n  }\n}\n","import Observer from '../util/observer';\n\nexport default class TripDestinations extends Observer {\n  constructor() {\n    super();\n    this._destinations = {};\n  }\n\n  setDestinations(destinations, updateType) {\n    this._destinations = Object.assign({}, destinations);\n    this.notify(updateType);\n  }\n\n  getDestinations() {\n    return this._destinations;\n  }\n\n  static adaptDestinationToClient(serverDestination) {\n    const result = {};\n    const adaptPhotos = (photos) => photos.map(({description, src}) => ({\n      src: src,\n      alt: description,\n    }));\n    serverDestination.forEach(({name, description, pictures}) => {\n      result[name] = {\n        description: description,\n        photos: adaptPhotos(pictures),\n      };\n    });\n    return result;\n  }\n}\n","import AbstractComponent from '../view/abstract-component';\n\nconst RenderPosition = {\n  START: 'afterbegin',\n  END: 'beforeend',\n};\n\nconst render = (container, element, place = RenderPosition.END) => {\n  if (container instanceof AbstractComponent) {\n    container = container.getElement();\n  }\n\n  if (element instanceof AbstractComponent) {\n    element = element.getElement();\n  }\n  switch (place) {\n    case RenderPosition.START:\n      container.prepend(element);\n      break;\n    case RenderPosition.END:\n      container.append(element);\n      break;\n    default:\n      throw Error(`unknown render position ${place}`);\n  }\n};\n\nconst createElement = (template) => {\n  const wrapper = document.createElement('div');\n  wrapper.innerHTML = template;\n  return wrapper.firstElementChild;\n};\n\nconst replace = (newChild, oldChild) => {\n  if (oldChild instanceof AbstractComponent) {\n    oldChild = oldChild.getElement();\n  }\n\n  if (newChild instanceof AbstractComponent) {\n    newChild = newChild.getElement();\n  }\n  const parent = oldChild.parentElement;\n  parent.replaceChild(newChild, oldChild);\n};\n\nconst remove = (component) => {\n  if (component === null) {\n    return;\n  }\n\n  if (!(component instanceof AbstractComponent)) {\n    throw new Error('Can remove components only');\n  }\n\n  component.getElement().remove();\n  component.removeElement();\n};\n\nexport {render, RenderPosition, replace, remove, createElement};\n","import { createElement } from '../util/render';\nconst SHAKE_ANIMATION_TIMEOUT = 600;\n\nexport default class AbstractComponent {\n  constructor() {\n    if (new.target === AbstractComponent) {\n      throw Error('Can\\'t instantiate Abstract, only concrete one.');\n    }\n    this._element = null;\n    this._callback = {}; // folder for callback functions\n  }\n\n  getTemplate() {\n    throw Error('Abstract class doesnt have template and therefore Element');\n  }\n\n  getElement() {\n    if (!this._element) {\n      this._element = createElement(this.getTemplate());\n    }\n    return this._element;\n  }\n\n  removeElement() {\n    this._element = null;\n  }\n\n  show() {\n    this.getElement().classList.remove('visually-hidden');\n  }\n\n  hide() {\n    this.getElement().classList.add('visually-hidden');\n  }\n\n  shake(cb) {\n    this.getElement().style.animation = `shake ${SHAKE_ANIMATION_TIMEOUT / 1000}s`;\n    setTimeout(() => {\n      this.getElement().style.animation = '';\n      cb();\n    }, SHAKE_ANIMATION_TIMEOUT);\n  }\n}\n","import AbstractComponent from './abstract-component';\nimport { SortType } from '../const';\n\nconst createSiteSortingTemplate = (sortType) => `<form class=\"trip-events__trip-sort  trip-sort\" action=\"#\" method=\"get\">\n  <div class=\"trip-sort__item  trip-sort__item--day\">\n    <input id=\"sort-day\" data-sort-type=\"${SortType.DATE}\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-day\" ${sortType === SortType.DATE ? 'checked' : ''}>\n    <label class=\"trip-sort__btn\" for=\"sort-day\">Day</label>\n  </div>\n\n  <div class=\"trip-sort__item  trip-sort__item--event\">\n    <input id=\"sort-event\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-event\" disabled>\n    <label class=\"trip-sort__btn\" for=\"sort-event\">Event</label>\n  </div>\n\n  <div class=\"trip-sort__item  trip-sort__item--time\">\n    <input id=\"sort-time\" data-sort-type=\"${SortType.TIME}\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-time\" ${sortType === SortType.TIME ? 'checked' : ''}>\n    <label class=\"trip-sort__btn\" for=\"sort-time\">Time</label>\n  </div>\n\n  <div class=\"trip-sort__item  trip-sort__item--price\">\n    <input id=\"sort-price\" data-sort-type=\"${SortType.PRICE}\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-price\" ${sortType === SortType.PRICE ? 'checked' : ''}>\n    <label class=\"trip-sort__btn\" for=\"sort-price\">Price</label>\n  </div>\n\n  <div class=\"trip-sort__item  trip-sort__item--offer\">\n    <input id=\"sort-offer\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-offer\" disabled>\n    <label class=\"trip-sort__btn\" for=\"sort-offer\">Offers</label>\n  </div>\n</form>`;\n\nexport default class Sorting extends AbstractComponent{\n  constructor(sortType) {\n    super();\n    this._sortType = sortType;\n    this._callback = {};\n    this._sortClickHandler = this._sortClickHandler.bind(this);\n  }\n\n  getTemplate() {\n    return createSiteSortingTemplate(this._sortType);\n  }\n\n  setSortClick(cb) {\n    this._callback.sortClick = cb;\n    this.getElement().addEventListener('click', this._sortClickHandler);\n  }\n\n  _sortClickHandler(evt) {\n    if (evt.target.tagName !== 'INPUT') {\n      return;\n    }\n\n    this._callback.sortClick(evt.target.dataset.sortType);\n  }\n}\n","import AbstractComponent from './abstract-component';\n\nconst createTripList = () => '<ul class=\"trip-events__list\"></ul>';\n\nexport default class PointContainer extends AbstractComponent {\n\n  getTemplate() {\n    return createTripList();\n  }\n\n}\n","import AbstractComponent from './abstract-component';\nconst createNoPointMessage = () => '<p class=\"trip-events__msg\">Click New Event to create your first point</p>';\n\nexport default class NoPoint extends AbstractComponent {\n\n  getTemplate() {\n    return createNoPointMessage(this.data);\n  }\n\n}\n","import AbstractComponent from './abstract-component';\r\n\r\nconst createLoading = () => `\r\n<div>\r\n<p class=\"trip-events__msg\">Loading...</p>\r\n<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n</div>\r\n`;\r\n\r\nexport default class Loading extends AbstractComponent {\r\n  getTemplate() {\r\n    return createLoading();\r\n  }\r\n}\r\n","import dayjs from 'dayjs';\nimport duration from 'dayjs/plugin/duration';\ndayjs.extend(duration);\n\nconst isChecked = (bool) => bool ? 'checked' : '';\nconst isActive = (bool) => bool ? '' : 'disabled';\n\nconst isDayExpired = (date) => date < dayjs();\nconst isDayInFuture = (date) => date >= dayjs();\n\nconst getDuration = (startTime, endTime) => dayjs.duration(endTime - startTime);\n\nconst formatDuration = (value) => {\n  const durDay = value.get('days');\n  const durHour = value.get('hours');\n  const durMin = value.get('minutes');\n  if (durDay) {\n    return `${durDay} D ${durHour} H ${durMin} M`;\n  } else if (durHour) {\n    return `${durHour} H ${durMin} M`;\n  }\n  return `${durMin} M`;\n};\n\nconst sortByDate = (a, b) => a.fromTime - b.fromTime;\nconst sortByTime = (a, b) => {\n  const aDuration = a.toTime - a.fromTime;\n  const bDuration = b.toTime - b.fromTime;\n  return aDuration - bDuration;\n};\nconst sortByPrice = (a, b) => a.price - b.price;\n\nexport {isActive, isChecked, isDayExpired, isDayInFuture, sortByDate, sortByTime, sortByPrice, getDuration, formatDuration};\n","import AbstractComponent from './abstract-component';\nimport { getDuration, formatDuration } from '../util/point.js';\n\nconst createTripPoint = (pointData) => {\n  const createIconLink = () => `img/icons/${pointData.event.toLowerCase()}.png`;\n  const createFavorites = () => {\n    let activeClass = '';\n    if (pointData.favorite) {\n      activeClass = 'event__favorite-btn--active';\n    }\n    return `<button class=\"event__favorite-btn ${activeClass}\" type=\"button\">\n    <span class=\"visually-hidden\">Add to favorite</span>\n    <svg class=\"event__favorite-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\">\n      <path d=\"M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z\"/>\n    </svg>\n  </button>`;\n  };\n  const addSelectedOffers = () => {\n    const offers = pointData.offers;\n    return offers.reduce((acc, offer) => {\n      acc += `<li class=\"event__offer\">\n  <span class=\"event__offer-title\">${offer.name}</span>\n  &plus;&euro;&nbsp;\n  <span class=\"event__offer-price\">${offer.price}</span>\n</li>`;\n      return acc;\n    }, '');\n  };\n  const generateDuration = () => {\n    const period =  getDuration(pointData.fromTime, pointData.toTime);\n    return formatDuration(period);\n  };\n\n  return `<li class=\"trip-events__item\">\n    <div class=\"event\">\n      <time class=\"event__date\" datetime=\"${pointData.fromTime.format('YYYY-MM-DD')}\">${pointData.fromTime.format('MMM D')}</time>\n      <div class=\"event__type\">\n        <img class=\"event__type-icon\" width=\"42\" height=\"42\" src=\"${createIconLink()}\" alt=\"Event type icon\">\n      </div>\n      <h3 class=\"event__title\">${pointData.event} ${pointData.city}</h3>\n      <div class=\"event__schedule\">\n        <p class=\"event__time\">\n          <time class=\"event__start-time\" datetime=\"${pointData.fromTime.format('YYYY-MM-DDTHH:MM')}\">${pointData.fromTime.format('HH:mm')}</time>\n          &mdash;\n          <time class=\"event__end-time\" datetime=\"${pointData.toTime.format('YYYY-MM-DDTHH:MM')}\">${pointData.toTime.format('HH:mm')}</time>\n        </p>\n        <p class=\"event__duration\">${generateDuration()}</p>\n      </div>\n      <p class=\"event__price\">\n        &euro;&nbsp;<span class=\"event__price-value\">${pointData.price}</span>\n      </p>\n      <h4 class=\"visually-hidden\">Offers:</h4>\n      <ul class=\"event__selected-offers\">\n        ${addSelectedOffers()}\n      </ul>\n      ${createFavorites()}\n      <button class=\"event__rollup-btn\" type=\"button\">\n        <span class=\"visually-hidden\">Open event</span>\n      </button>\n    </div>\n  </li>`;\n};\n\nexport default class Point extends AbstractComponent{\n  constructor(pointData) {\n    super();\n    this._pointData = pointData;\n    this._clickHandler = this._clickHandler.bind(this);\n    this._clickFavoriteHandler = this._clickFavoriteHandler.bind(this);\n  }\n\n  setClickHandler(cb) {\n    this._callback.click = cb;\n    this.getElement()\n      .querySelector('.event__rollup-btn')\n      .addEventListener('click',this._clickHandler);\n  }\n\n  setClickFavoriteHandler(cb) {\n    this._callback.clickFavorite = cb;\n    this.getElement()\n      .querySelector('.event__favorite-btn')\n      .addEventListener('click', this._clickFavoriteHandler);\n  }\n\n  removeClickHandler() {\n    this.getElement()\n      .querySelector('.event__rollup-btn')\n      .removeEventListener('click', this._clickHandler);\n  }\n\n  removeClickFavoriteHandler() {\n    this\n      .getElement()\n      .querySelector('.event__favorite-btn')\n      .removeEventListener('click', this._clickFavoriteHandler);\n  }\n\n  getTemplate() {\n    return createTripPoint(this._pointData);\n  }\n\n  _clickHandler(evt) {\n    evt.preventDefault();\n    this._callback.click();\n  }\n\n  _clickFavoriteHandler(evt) {\n    evt.preventDefault();\n    this._callback.clickFavorite();\n  }\n}\n","import AbstractComponent from './abstract-component';\r\n\r\nconst createErrorMessage = (err) => `<div class=\"error-message\">Unable to load data. ${err}</div>`;\r\n\r\nexport default class ErrorMessage extends AbstractComponent {\r\n  constructor(error) {\r\n    super();\r\n    this._error = error;\r\n  }\r\n\r\n  getTemplate() {\r\n    return createErrorMessage(this._error);\r\n  }\r\n}\r\n","import ErrorMessageView from '../view/error-message';\nimport { render } from './render';\nconst getRandomInt = (min, max) => {\n  if (min > max) {\n    [min, max] = [max, min];\n  }\n  min = Math.ceil(min);\n  max = Math.trunc(max);\n  const randomFloat = Math.random();\n  const randomNumber = Math.trunc(randomFloat * (max - min + 1)) + min;\n  return randomNumber;\n};\n\nconst isOnline = () => window.navigator.onLine;\n\nconst createErrorMessage = (err) => {\n  const errMsg = new ErrorMessageView(err);\n  render(document.body, errMsg);\n};\n\nconst getRandomFloat = (min, max, numOfdecimalPlace) => {\n  if (min >= max) {\n    return;\n  }\n  const randomFloat = Math.random();\n  const randomNumber = (randomFloat * (max - min)) + min;\n  return +randomNumber.toFixed(numOfdecimalPlace);\n};\n\nconst getRandomValueFromArr = (arr) => {\n  const randomValue = arr[getRandomInt(0, arr.length -1)];\n  if (typeof randomValue === 'object') {\n    return Object.assign({}, randomValue);\n  }\n  return randomValue;\n};\n\nconst getTrueOrFalse = () => Boolean(getRandomInt(0, 1));\nconst capitalize = (str) => `${str[0].toUpperCase()}${str.slice(1)}`;\n\nexport {getRandomInt, getRandomFloat, getRandomValueFromArr, getTrueOrFalse, capitalize, isOnline, createErrorMessage };\n","import AbstractComponent from './abstract-component';\n\nexport default class Smart extends AbstractComponent {\n\n  restoreHandlers() {\n    throw Error('Abstract method not implemented : restoreHandlers');\n  }\n\n  updateElement() {\n    const oldElement = this.getElement();\n    const parentElement = oldElement.parentElement;\n    this.removeElement();\n    const newElement = this.getElement();\n    parentElement.replaceChild(newElement, oldElement);\n    this.restoreHandlers();\n  }\n\n  updateData(update, isSmallUpdate) {\n    if (!update) {\n      return;\n    }\n    this._pointState = Object.assign({}, this._pointState, update);\n    if (isSmallUpdate) {\n      return;\n    }\n    this.updateElement();\n  }\n}\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return ((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode()).activeElement || document.activeElement;\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date && compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","\n      import API from \"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../css-loader/dist/cjs.js!./flatpickr.min.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../css-loader/dist/cjs.js!./flatpickr.min.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { capitalize} from '../util/common';\nimport Smart from './smart.js';\nimport flatpickr from 'flatpickr';\nimport '../../node_modules/flatpickr/dist/flatpickr.min.css';\nimport dayjs from 'dayjs';\nconst DATE_FORMAT = 'd/m/y H:i';\n\nconst addIcon = (event) => {\n  const iconMarkup = `<img class=\"event__type-icon\" width=\"17\" height=\"17\" src=\"img/icons/${event.toLowerCase()}.png\" alt=\"Event type icon\">`;\n  return iconMarkup;\n};\n\nconst addListOfEvents = (event, eventList) => {\n\n  const addEventElement = (eventType) => {\n    eventType = eventType.toLowerCase();\n    const isChecked = () => (eventType === event.toLowerCase()) ?\n      'checked' : '';\n    return `<div class=\"event__type-item\">\n      <input id=\"event-type-${eventType}-1\" class=\"event__type-input  visually-hidden\" type=\"radio\" name=\"event-type\" value=\"${eventType}\" ${isChecked()}>\n      <label class=\"event__type-label  event__type-label--${eventType}\" for=\"event-type-${eventType}-1\">${capitalize(eventType)}</label>\n    </div>`;\n  };\n  const events = eventList.map((value) => addEventElement(value));\n  return events.join('');\n};\n\nconst addListOfCities = (cities) => {\n  const createCity = (cityName) => `<option value=\"${cityName}\"></option>`;\n  const listOfCities = cities.map((cityName) => createCity(cityName));\n  return listOfCities.join('');\n};\nconst addPointEditHeader = (event, city, fromTime, toTime, price, destinationsData, offersData, isDisabled, isSaving, isDeleting, isNew) => {\n  const chooseSaveOrAdd = () => {\n    if (isSaving && isNew) {\n      return 'Adding...';\n    }\n    if (isSaving) {\n      return 'Saving...';\n    }\n    if (isNew) {\n      return 'Add';\n    }\n    return 'Save';\n  };\n  const chooseDeleteOrCancel = () => {\n    if (isNew) {\n      return 'Cancel';\n    }\n    if (isDeleting) {\n      return 'Deleting';\n    }\n    return 'Delete';\n  };\n  return `<header class=\"event__header\">\n  <div class=\"event__type-wrapper\">\n    <label class=\"event__type  event__type-btn\" for=\"event-type-toggle-1\">\n      <span class=\"visually-hidden\">Choose event type</span>\n      ${addIcon(event)}\n    </label>\n    <input class=\"event__type-toggle  visually-hidden\" id=\"event-type-toggle-1\" type=\"checkbox\" ${isDisabled ? 'disabled': ''}>\n\n    <div class=\"event__type-list\">\n      <fieldset class=\"event__type-group\"> \n        <legend class=\"visually-hidden\">Event type</legend>\n        ${addListOfEvents(event, Object.keys(offersData))}\n      </fieldset>\n    </div>\n  </div>\n      \n  <div class=\"event__field-group  event__field-group--destination\">\n    <label class=\"event__label  event__type-output\" for=\"event-destination-1\">\n      ${event}\n    </label>\n    <input class=\"event__input  event__input--destination\" id=\"event-destination-1\" type=\"text\" name=\"event-destination\" value=\"${city}\" list=\"destination-list-1\" required ${isDisabled ? 'disabled': ''}>\n    <datalist id=\"destination-list-1\">\n      ${addListOfCities(Object.keys(destinationsData))}\n    </datalist>\n  </div>\n  \n  <div class=\"event__field-group  event__field-group--time\">\n    <label class=\"visually-hidden\" for=\"event-start-time-1\">From</label>\n    <input class=\"event__input  event__input--time\" id=\"event-start-time-1\" type=\"text\" name=\"event-start-time\" value=\"${fromTime.format('DD/MM/YY HH:mm')}\" ${isDisabled ? 'disabled': ''}>\n    &mdash;\n    <label class=\"visually-hidden\" for=\"event-end-time-1\">To</label>\n    <input class=\"event__input  event__input--time\" id=\"event-end-time-1\" type=\"text\" name=\"event-end-time\" value=\"${toTime.format('DD/MM/YY HH:mm')}\" ${isDisabled ? 'disabled': ''}>\n  </div>\n  \n  <div class=\"event__field-group  event__field-group--price\">\n    <label class=\"event__label\" for=\"event-price-1\">\n      <span class=\"visually-hidden\">Price</span>\n      &euro;\n    </label>\n    <input class=\"event__input  event__input--price\" id=\"event-price-1\" type=\"number\" required min=\"0\" name=\"event-price\" value=\"${price}\" ${isDisabled ? 'disabled': ''}>\n  </div>\n\n  <button class=\"event__save-btn  btn  btn--blue\" type=\"submit\" ${isDisabled ? 'disabled': ''}>${chooseSaveOrAdd()}</button>\n  <button class=\"event__reset-btn\" type=\"reset\" ${isDisabled ? 'disabled': ''}>${chooseDeleteOrCancel()}</button>\n  <button class=\"event__rollup-btn\" type=\"button\" ${isDisabled ? 'disabled': ''}>\n    <span class=\"visually-hidden\">Open event</span>\n  </button>\n</header>`;\n};\n\nconst addPhotos = (photos) => {\n  if (!photos) {return '';}\n  const createPhoto = (photo) => `<img class=\"event__photo\" src=\"${photo.src}\" alt=\"${photo.alt}\">`;\n\n  const photoElements = photos\n    .reduce((acc, photo) => {\n      acc += createPhoto(photo);\n      return acc;\n    }, '');\n\n  return `<div class=\"event__photos-container\">\n  <div class=\"event__photos-tape\">\n    ${photoElements}\n  </div>\n  </div>\n  `;\n};\n\nconst addDescription = (description) => {\n  if (!description) {return '';}\n  return `<p class=\"event__destination-description\">${description}</p>`;\n};\n\nconst addOffers = (totalOffers, pointOffers, isDisabled) => {\n  const addOffer = (offer) => {\n    const isChecked = () => pointOffers.some((pointOffer) => pointOffer.name === offer.name) ? 'checked' : '';\n    return `<div class=\"event__offer-selector\">\n        <input class=\"event__offer-checkbox  visually-hidden\" id=\"event-offer-${offer.name}\" data-price=\"${offer.price}\" value=\"${offer.name}\" type=\"checkbox\" name=\"event-offer-${offer.name}\" ${isChecked()} ${isDisabled ? 'disabled': ''}>\n        <label class=\"event__offer-label\" for=\"event-offer-${offer.name}\">\n        <span class=\"event__offer-title\">${offer.name}</span>\n        &plus;&euro;&nbsp;\n        <span class=\"event__offer-price\">${offer.price}</span>\n        </label>\n        </div>`;\n  };\n  const offersElement = totalOffers.map(addOffer);\n  return `<section class=\"event__section  event__section--offers\">\n  <h3 class=\"event__section-title  event__section-title--offers\">Offers</h3>\n  <div class=\"event__available-offers\">\n    ${offersElement.join('')}\n  </div>\n</section>`;\n};\n\nconst createPointEditDetailsDestination = (photos, description) => {\n  if (!photos && !description) {\n    return '';\n  }\n\n  return `<section class=\"event__section  event__section--destination\">\n  <h3 class=\"event__section-title  event__section-title--destination\">Destination</h3>\n  ${description !== null ? addDescription(description) : ''}\n  ${description !== null ? addPhotos(photos) : ''}\n</section>`;\n};\n\nconst addPointEditDetails = (offers, photos, description, event, offersData, isDisabled) => {\n  const exactOffers = offersData[event];\n  return `<section class=\"event__details\">\n  ${exactOffers.length !== 0 ? addOffers(exactOffers, offers, isDisabled) : ''}\n  ${createPointEditDetailsDestination(photos, description)}\n</section>`;};\n\nconst addPointEdit = (pointData, offersData, destinationsData, isNew) => {\n  const {event, city,\n    fromTime, toTime,\n    price, offers,\n    description, photos,\n    isDisabled, isSaving,\n    isDeleting} = pointData;\n\n  return `<li class=\"trip-events__item\">\n    <form class=\"event event--edit\" action=\"#\" method=\"post\">\n      ${addPointEditHeader(event, city,fromTime, toTime, price, destinationsData, offersData, isDisabled, isSaving, isDeleting, isNew)}\n      ${addPointEditDetails(offers, photos, description, event, offersData, isDisabled)}\n    </form>\n  </li>`;\n};\n\n\nexport default class EditPoint extends Smart {\n  constructor(pointData, offersData, destinationsData, isNewPoint) {\n    super();\n    this._pointState = EditPoint.parseDataToState(pointData);\n    this._offersData = offersData;\n    this._destinationsData = destinationsData;\n\n    this._datePickerFromTime = null;\n    this._datePickerToTime = null;\n    this.isNewPoint = Boolean(isNewPoint);\n\n    this._clickPointerHandler = this._clickPointerHandler.bind(this);\n    this._submitHandler = this._submitHandler.bind(this);\n    this._clickDelHandler = this._clickDelHandler.bind(this);\n    this._clickEventsHandler = this._clickEventsHandler.bind(this);\n    this._changeCityHandler = this._changeCityHandler.bind(this);\n    this._changePriceHandler = this._changePriceHandler.bind(this);\n    this._clickPointerHandler = this._clickPointerHandler.bind(this);\n    this._changeFromTimeHandler = this._changeFromTimeHandler.bind(this);\n    this._changeToTimeHandler = this._changeToTimeHandler.bind(this);\n    this._changeOffersHandler = this._changeOffersHandler.bind(this);\n\n    this._callback.clickEvents = this._clickEventsHandler;\n    this._setInnerHandlers();\n    this._setDatePickerFromTime();\n    this._setDatePickerToTime();\n\n  }\n\n  setClickDelHandler(cb) {\n    this._callback.clickDel = cb;\n    this.getElement().querySelector('.event__reset-btn').addEventListener('click', this._clickDelHandler);\n  }\n\n  setClickHandler(cb) {\n    this._callback.clickPointer = cb;\n    this\n      .getElement()\n      .querySelector('.event__rollup-btn')\n      .addEventListener('click' , this._clickPointerHandler);\n\n  }\n\n  setSubmitHandler(cb) {\n    this._callback.submit = cb;\n    this.getElement()\n      .addEventListener('submit', this._submitHandler);\n  }\n\n  removeClickHandler() {\n    this\n      .getElement()\n      .querySelector('.event__rollup-btn')\n      .removeEventListener('click', this._clickPointerHandler);\n  }\n\n  removeSubmitHandler() {\n    this\n      .getElement()\n      .removeEventListener('submit', this._submitHandler);\n  }\n\n  getTemplate() {\n    return addPointEdit(this._pointState, this._offersData, this._destinationsData, this.isNewPoint);\n  }\n\n  reset(oldData) {\n    this.updateData(EditPoint.pasrseStateToData(oldData));\n  }\n\n  restoreHandlers() {\n    this.setClickHandler(this._callback.clickPointer);\n    this.setSubmitHandler(this._callback.submit);\n    this.setClickDelHandler(this._callback.clickDel);\n    this._setInnerHandlers();\n    this._setDatePickerFromTime();\n    this._setDatePickerToTime();\n  }\n\n  _clickEventsHandler(evt) {\n    if (evt.target.tagName !== 'INPUT') {\n      return;\n    }\n    evt.preventDefault();\n    const newEvent = evt.target.value;\n    this.updateData({\n      event: newEvent,\n      offers: [],\n    });\n  }\n\n  _changeCityHandler(evt) {\n    const newCity = evt.target.value;\n    if (Object.keys(this._destinationsData).includes(newCity)) {\n      evt.preventDefault();\n      evt.target.setCustomValidity('');\n      this.updateData({\n        city: newCity,\n        description: this._destinationsData[newCity].description,\n        photos: this._destinationsData[newCity].photos,\n      });\n    } else {\n      evt.target.setCustomValidity('Enter city from List');\n    }\n    evt.target.reportValidity();\n  }\n\n  _changePriceHandler(evt) {\n    const price = +evt.target.value;\n    if (price < 1) {\n      evt.target.setCustomValidity('Enter a number bigger than one');\n    } else {\n      evt.target.setCustomValidity('');\n      evt.preventDefault();\n      this.updateData({\n        price: price,\n      }, true);\n    }\n    evt.target.reportValidity();\n  }\n\n  _changeOffersHandler(evt) {\n    evt.preventDefault();\n\n    const currentOffersCopy = JSON.parse(JSON.stringify(this._pointState.offers)); // deep copy\n    const index = currentOffersCopy.findIndex((offer) => offer.name === evt.target.value);\n\n    if (index === -1) {\n      currentOffersCopy.push({\n        name: evt.target.value,\n        price: +evt.target.dataset.price,\n      });\n    } else {\n      currentOffersCopy.splice(index, 1);\n    }\n    this.updateData({\n      offers: currentOffersCopy\n    }, true);\n\n  }\n\n  _clickPointerHandler(evt) {\n    evt.preventDefault();\n    this._callback.clickPointer();\n  }\n\n  _changeFromTimeHandler([userDate]) {\n    this.updateData({\n      fromTime: dayjs(userDate),\n    }, true);\n  }\n\n  _changeToTimeHandler([userDate]) {\n    this.updateData({\n      toTime: dayjs(userDate),\n    }, true);\n  }\n\n  _submitHandler(evt) {\n    evt.preventDefault();\n    this._callback.submit(EditPoint.pasrseStateToData(this._pointState));\n  }\n\n  _clickDelHandler() {\n    this._callback.clickDel();\n  }\n\n  _setDatePickerFromTime() {\n    if (this._datePickerFromTime) {\n      this._datePickerFromTime.destroy();\n      this._datePickerFromTime = null;\n    }\n\n    this._datePickerFromTime = flatpickr(this.getElement()\n      .querySelector('#event-start-time-1'), {\n      dateFormat: DATE_FORMAT,\n      enableTime: true,\n      defaultDate: this._pointState.date,\n      onChange: this._changeFromTimeHandler,\n      'time_24hr': true,\n    });\n  }\n\n  _setDatePickerToTime() {\n    if (this._datePickerToTime) {\n      this._datePickerToTime.destroy();\n      this._datePickerToTime = null;\n    }\n\n    this._datePickerToTime = flatpickr(this.getElement()\n      .querySelector('#event-end-time-1'), {\n      dateFormat: DATE_FORMAT,\n      enableTime: true,\n      defaultDate: this._pointState.date,\n      onChange: this._changeToTimeHandler,\n      'time_24hr': true,\n    });\n  }\n\n  _setInnerHandlers() {\n    const currElement = this.getElement();\n    currElement\n      .querySelector('.event__type-group')\n      .addEventListener('click', this._clickEventsHandler);\n\n    currElement\n      .querySelector('#event-destination-1')\n      .addEventListener('change', this._changeCityHandler);\n\n    currElement\n      .querySelector('.event__input--price')\n      .addEventListener('change', this._changePriceHandler);\n\n    if (currElement.querySelector('.event__available-offers')) {\n      currElement\n        .querySelector('.event__available-offers')\n        .addEventListener('change', this._changeOffersHandler);\n    }\n  }\n\n  static parseDataToState(state) {\n    return Object.assign(\n      {},\n      state,\n      {\n        isDisabled: false,\n        isSaving: false,\n        isDeleting: false,\n      });\n  }\n\n  static pasrseStateToData(data) {\n    delete data.isDisabled;\n    delete data.isSaving;\n    delete data.isDeleting;\n    return Object.assign({},\n      data);\n  }\n}\n","const SHOW_TIME = 5000;\r\n\r\nconst toastContainer = document.createElement('div');\r\ntoastContainer.classList.add('toast-container');\r\ndocument.body.append(toastContainer);\r\n\r\nconst toast = (message) => {\r\n  const toastItem = document.createElement('div');\r\n  toastItem.textContent = message;\r\n  toastItem.classList.add('toast-item');\r\n\r\n  toastContainer.append(toastItem);\r\n\r\n  setTimeout(() => {\r\n    toastItem.remove();\r\n  }, SHOW_TIME);\r\n};\r\n\r\nexport {toast};\r\n","import PointView from '../view/trip-point.js';\nimport EditPointView from '../view/trip-point-edit.js';\nimport { render, replace, remove } from '../util/render';\nimport { UserAction, UpdateType } from '../const.js';\nimport { isOnline } from '../util/common.js';\nimport { toast } from '../util/toast.js';\nimport { OfflineMessage } from '../const.js';\n\nconst Mode = {\n  DEFAULT: 'default',\n  EDIT: 'edit',\n};\n\nexport const State = {\n  SAVING: 'SAVING',\n  DELETING: 'DELETING',\n  ABORTING: 'ABORTING',\n};\n\nexport default class Point {\n  constructor(pointListContainer, changeData, changeMode, offers, destinations) {\n    this._pointListContainer = pointListContainer;\n    this._offers = offers;\n    this._destinations = destinations;\n\n    this._mode = Mode.DEFAULT;\n\n    this._changeData = changeData; // function that updates point in TripPresenter and inits it\n    this._changeMode = changeMode; // function that changes all modes to Default\n\n    this._pointComponent = null;\n    this._pointEditComponent = null;\n\n    this._handlePointClick = this._handlePointClick.bind(this);\n    this._handlePointFavoriteClick = this._handlePointFavoriteClick.bind(this);\n    this._handleEditDelClick = this._handleEditDelClick.bind(this);\n    this._handleEditClick = this._handleEditClick.bind(this);\n    this._handleEditSubmit = this._handleEditSubmit.bind(this);\n    this._handleEscKeyDown = this._handleEscKeyDown.bind(this);\n  }\n\n  init(pointData) {\n    this.pointData = pointData;\n    const prevPointComponent = this._pointComponent;\n    const prevPointEditComponent = this._pointEditComponent;\n    this._pointComponent = new PointView(pointData);\n    this._pointEditComponent = new EditPointView(pointData, this._offers, this._destinations);\n\n    this._pointComponent.setClickHandler(this._handlePointClick);\n    this._pointComponent.setClickFavoriteHandler(this._handlePointFavoriteClick);\n    this._pointEditComponent.setClickHandler(this._handleEditClick);\n    this._pointEditComponent.setSubmitHandler(this._handleEditSubmit);\n    this._pointEditComponent.setClickDelHandler(this._handleEditDelClick);\n\n    if (prevPointComponent === null && prevPointEditComponent === null) {\n      render(this._pointListContainer, this._pointComponent);\n      return;\n    }\n\n    switch (this._mode){\n      case (Mode.DEFAULT):\n        replace(this._pointComponent, prevPointComponent);\n        break;\n      case (Mode.EDIT):\n        replace(this._pointEditComponent, prevPointEditComponent);\n        break;\n    }\n\n    remove(prevPointComponent);\n    remove(prevPointEditComponent);\n\n  }\n\n  destroy() {\n    remove(this._pointComponent);\n    remove(this._pointEditComponent);\n  }\n\n  resetView() {\n    if (this._mode !== Mode.DEFAULT) {\n      this._replaceEditToPoint();\n    }\n  }\n\n  setViewState(state) {\n\n    const resetFormState = () => {\n      this._pointEditComponent.updateData({\n        isDisabled: false,\n        isDeleting: false,\n        isSaving: false,\n      });\n    };\n\n    switch (state) {\n      case State.SAVING:\n        this._pointEditComponent.updateData({\n          isDisabled: true,\n          isSaving: true,\n        });\n        break;\n      case State.DELETING:\n        this._pointEditComponent.updateData({\n          isDisabled: true,\n          isDeleting: true,\n        });\n        break;\n      case State.ABORTING:\n        this._pointEditComponent.shake(resetFormState);\n        this._pointComponent.shake(resetFormState);\n        break;\n    }\n  }\n\n  _replacePointToEdit() {\n    replace(this._pointEditComponent, this._pointComponent);\n    document.addEventListener('keydown', this._handleEscKeyDown);\n    this._mode = Mode.EDIT;\n\n  }\n\n  _replaceEditToPoint() {\n    this._pointEditComponent.reset(this.pointData);\n    replace(this._pointComponent, this._pointEditComponent);\n    document.removeEventListener('keydown', this._handleEscKeyDown);\n    this._mode = Mode.DEFAULT;\n\n  }\n\n  _handlePointClick() {\n    this._changeMode();\n    this._replacePointToEdit();\n  }\n\n  _handlePointFavoriteClick() {\n    const newPointData = Object.assign({}, this.pointData);\n    newPointData.favorite = !newPointData.favorite;\n    this._changeData(\n      UserAction.UPDATE_POINT,\n      UpdateType.PATCH,\n      newPointData);\n  }\n\n  _handleEditClick() {\n    this._changeMode();\n  }\n\n  _handleEditSubmit(newData) {\n    if (!isOnline()) {\n      toast(OfflineMessage.SAVE);\n      return;\n    }\n\n    this._changeData(\n      UserAction.UPDATE_POINT,\n      UpdateType.MAJOR,\n      newData);\n  }\n\n  _handleEscKeyDown(evt) {\n    if (evt.key === 'Escape' || evt.key === 'Esc') {\n      evt.preventDefault();\n      this._changeMode();\n    }\n  }\n\n  _handleEditDelClick() {\n    if (!isOnline()) {\n      toast(OfflineMessage.DELETE);\n      return;\n    }\n    this._changeData(\n      UserAction.DELETE_POINT,\n      UpdateType.MAJOR,\n      this.pointData);\n  }\n}\n","import EditPointView from '../view/trip-point-edit.js';\nimport dayjs from 'dayjs';\nimport { getRandomValueFromArr } from '../util/common.js';\nimport { render, remove, RenderPosition } from '../util/render';\nimport { UserAction, UpdateType } from '../const.js';\nimport { isOnline } from '../util/common.js';\nimport { OfflineMessage } from '../const.js';\nimport { toast } from '../util/toast.js';\n\nexport const createPointTemplate = (offers, destinations) => {\n  const event = getRandomValueFromArr(Object.keys(offers));\n  const city = getRandomValueFromArr(Object.keys(destinations));\n  return {\n    event,\n    city,\n    fromTime: dayjs(),\n    toTime: dayjs(),\n    price: 0,\n    offers: [],\n    favorite: false,\n    description: destinations[city].description,\n    photos: destinations[city].photos,\n  };\n\n};\n\nexport default class NewPoint {\n  constructor(pointListContainer, changeData) {\n    this._pointListContainer = pointListContainer;\n\n    this._changeData = changeData; // function that updates point in TripPresenter and inits it\n\n    this._offers = null;\n    this._destinations = null;\n\n    this._isRendered = false;\n    this._isNewPoint = true;\n\n    this._addPointComponent = null;\n\n    this._handleAddPointDelClick = this._handleAddPointDelClick.bind(this);\n    this._handleAddPointClick = this._handleAddPointClick.bind(this);\n    this._handleAddPointSubmit = this._handleAddPointSubmit.bind(this);\n    this._handleEscKeyDown = this._handleEscKeyDown.bind(this);\n  }\n\n  init(isNoPoints, renderTrip, offers, destinations) {\n    this.pointData = createPointTemplate(offers, destinations);\n    this._isNoPoints = isNoPoints;\n    this._renderTrip = renderTrip;\n    this._offers = offers;\n    this._destinations = destinations;\n\n    if (this._addPointComponent !== null) {\n      this.destroy();\n      this._addPointComponent = null;\n    }\n    this._addPointComponent = new EditPointView(this.pointData, this._offers, this._destinations, this._isNewPoint);\n\n    document.addEventListener('keydown', this._handleEscKeyDown);\n    this._addPointComponent.setClickHandler(this._handleAddPointClick);\n    this._addPointComponent.setSubmitHandler(this._handleAddPointSubmit);\n    this._addPointComponent.setClickDelHandler(this._handleAddPointDelClick);\n\n    render(this._pointListContainer, this._addPointComponent, RenderPosition.START);\n    this._isRendered = true;\n  }\n\n  destroy() {\n    if (this._addPointComponent === null) {\n      return;\n    }\n    document.removeEventListener('keydown', this._handleEscKeyDown);\n    remove(this._addPointComponent);\n    this._addPointComponent = null;\n    this._isRendered = false;\n  }\n\n  setSaving() {\n    this._addPointComponent.updateData({\n      isDisabled: true,\n      isSaving: true,\n    });\n  }\n\n  setAborting() {\n    const resetFormState = () => {\n      this._addPointComponent.updateData({\n        isDisabled: false,\n        isSaving: false,\n        isDeleting: false,\n      });\n    };\n\n    this._addPointComponent.shake(resetFormState);\n  }\n\n  _handleAddPointClick() {\n    this.destroy();\n    if (this._isNoPoints) {\n      this._renderTrip();\n    }\n  }\n\n  _handleAddPointSubmit(newData) {\n    if (!isOnline()) {\n      toast(OfflineMessage.ADD);\n      return;\n    }\n\n    this._changeData(\n      UserAction.ADD_POINT,\n      UpdateType.MAJOR,\n      Object.assign({}, newData));\n  }\n\n  _handleEscKeyDown(evt) {\n    if (evt.key === 'Escape' || evt.key === 'Esc') {\n      evt.preventDefault();\n      this.destroy();\n      if (this._isNoPoints) {\n        this._renderTrip();\n      }\n    }\n  }\n\n  _handleAddPointDelClick() {\n    this.destroy();\n    if (this._isNoPoints) {\n      this._renderTrip();\n    }\n  }\n}\n","import dayjs from 'dayjs';\r\nimport {FilterType} from '../const.js';\r\n\r\nconst today = dayjs();\r\nexport const filter = {\r\n  [FilterType.EVERYTHING]: (data) => data,\r\n  [FilterType.FUTURE]: (data) => data.filter((pointData) => (pointData.fromTime >= today || pointData.toTime >= today)),\r\n  [FilterType.PAST]: (data) => data.filter((pointData) => pointData.fromTime < today && pointData.toTime < today),\r\n};\r\n","import AbstractComponent from './abstract-component';\n\n\nconst addFilters = (filters) => {\n\n  const createFilter = (filter) => `<div class=\"trip-filters__filter\">\n  <input id=\"filter-${filter.type}\" class=\"trip-filters__filter-input  visually-hidden\" type=\"radio\" name=\"trip-filter\" value=\"${filter.type}\" ${filter.isActive ? 'checked' : ''}>\n  <label class=\"trip-filters__filter-label\" for=\"filter-${filter.type}\">${filter.type} (${filter.amount})</label>\n</div>`;\n  const createFilters = () => filters.reduce((acc, filter) => {\n    acc += createFilter(filter);\n    return acc;\n  }, '');\n\n  return `<div class=\"trip-controls__filters\">\n  <h2 class=\"visually-hidden\">Filter events</h2>\n  <form class=\"trip-filters\" action=\"#\" method=\"get\">\n    ${createFilters(filters)}\n  </form>\n</div>`;\n};\n\n\nexport default class Filters extends AbstractComponent {\n  constructor(filters) {\n    super();\n    this._callback = {};\n    this._filters = filters;\n\n    this._handleFilterClick = this._handleFilterClick.bind(this);\n  }\n\n  disable() {\n    this.getElement().querySelectorAll('input').forEach((input) => {\n      input.disabled = true;\n    });\n  }\n\n  enable() {\n    this.getElement().querySelectorAll('input').forEach((input) => {\n      input.disabled = false;\n    });\n  }\n\n  getTemplate() {\n    return addFilters(this._filters);\n  }\n\n  setClickFilters(cb) {\n    this._callback.filterClick = cb;\n    this\n      .getElement()\n      .querySelector('.trip-filters')\n      .addEventListener('click', this._handleFilterClick);\n  }\n\n  _handleFilterClick(evt) {\n    if (evt.target.tagName !== 'INPUT'){\n      return;\n    }\n    this._callback.filterClick(evt.target.value);\n  }\n}\n","import AbstractComponent from './abstract-component';\n\nconst createTripInfo = (poinsData) => {\n  const createRoute = () => {\n    const generateRoute = () => {\n      switch (poinsData.length) {\n        case 0:\n          return '';\n        case 1:\n          return `${poinsData[0].city}`;\n        case 2:\n          return `${poinsData[0].city}  ${poinsData[poinsData.length - 1].city}`;\n        case 3:\n          return `${poinsData[0].city}   ${poinsData[1].city}   ${poinsData[2].city}`;\n        default:\n          return `${poinsData[0].city}  ...  ${poinsData[poinsData.length - 1].city}`;\n      }\n    };\n    return `<h1 class=\"trip-info__title\">${generateRoute()}</h1>`;\n  };\n  const createDates = () => {\n    if (poinsData.length === 0) {return '';}\n    const fromDate = poinsData[0].fromTime.format('MMM DD');\n    const toDate = poinsData[poinsData.length-1].toTime.format('MMM DD');\n    return `<p class=\"trip-info__dates\">${fromDate}&nbsp;&mdash;&nbsp;${toDate}</p>`;\n  };\n  const createPrice = () => {\n    if (poinsData.length === 0) {return '';}\n    const totalPrice = poinsData.reduce((acc, value) => {\n      acc += value.price;\n      return acc;\n    }, 0);\n    return `<p class=\"trip-info__cost\">\n    Total: &nbsp;<span class=\"trip-info__cost-value\">${totalPrice}</span>\n  </p>`;\n  };\n  return `<section class=\"trip-main__trip-info  trip-info\">\n  <div class=\"trip-info__main\">\n    ${createRoute()}\n    ${createDates()}\n  </div>\n  ${createPrice()}\n</section>`;\n};\n\n\nexport default class Info extends AbstractComponent {\n  constructor(data) {\n    super();\n    this._data = data;\n  }\n\n  getTemplate() {\n    return createTripInfo(this._data);\n  }\n}\n","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = '0123456789ABCDEF';\nconst h1 = (b) => hex[b & 0xF];\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\nfunction isShort(v) {\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\nfunction hexParse(str) {\n\tvar len = str.length;\n\tvar ret;\n\tif (str[0] === '#') {\n\t\tif (len === 4 || len === 5) {\n\t\t\tret = {\n\t\t\t\tr: 255 & map[str[1]] * 17,\n\t\t\t\tg: 255 & map[str[2]] * 17,\n\t\t\t\tb: 255 & map[str[3]] * 17,\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\n\t\t\t};\n\t\t} else if (len === 7 || len === 9) {\n\t\t\tret = {\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\n\t\t\t};\n\t\t}\n\t}\n\treturn ret;\n}\nfunction hexString(v) {\n\tvar f = isShort(v) ? h1 : h2;\n\treturn v\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\n\t\t: v;\n}\nfunction round(v) {\n\treturn v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n\treturn lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n\treturn lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n\treturn lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n\treturn lim(round(v * 100), 0, 100);\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n\tconst m = RGB_RE.exec(str);\n\tlet a = 255;\n\tlet r, g, b;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[7] !== r) {\n\t\tconst v = +m[7];\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\n\t}\n\tr = +m[1];\n\tg = +m[3];\n\tb = +m[5];\n\tr = 255 & (m[2] ? p2b(r) : r);\n\tg = 255 & (m[4] ? p2b(g) : g);\n\tb = 255 & (m[6] ? p2b(b) : b);\n\treturn {\n\t\tr: r,\n\t\tg: g,\n\t\tb: b,\n\t\ta: a\n\t};\n}\nfunction rgbString(v) {\n\treturn v && (\n\t\tv.a < 255\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\n\t);\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n\tconst a = s * Math.min(l, 1 - l);\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\n\tlet i;\n\tif (w + b > 1) {\n\t\ti = 1 / (w + b);\n\t\tw *= i;\n\t\tb *= i;\n\t}\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] *= 1 - w - b;\n\t\trgb[i] += w;\n\t}\n\treturn rgb;\n}\nfunction rgb2hsl(v) {\n\tconst range = 255;\n\tconst r = v.r / range;\n\tconst g = v.g / range;\n\tconst b = v.b / range;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst l = (max + min) / 2;\n\tlet h, s, d;\n\tif (max !== min) {\n\t\td = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\th = max === r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\n\t\t\t: max === g\n\t\t\t\t? (b - r) / d + 2\n\t\t\t\t: (r - g) / d + 4;\n\t\th = h * 60 + 0.5;\n\t}\n\treturn [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n\treturn (\n\t\tArray.isArray(a)\n\t\t\t? f(a[0], a[1], a[2])\n\t\t\t: f(a, b, c)\n\t).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n\treturn calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n\treturn calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n\treturn calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n\treturn (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n\tconst m = HUE_RE.exec(str);\n\tlet a = 255;\n\tlet v;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[5] !== v) {\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n\t}\n\tconst h = hue(+m[2]);\n\tconst p1 = +m[3] / 100;\n\tconst p2 = +m[4] / 100;\n\tif (m[1] === 'hwb') {\n\t\tv = hwb2rgb(h, p1, p2);\n\t} else if (m[1] === 'hsv') {\n\t\tv = hsv2rgb(h, p1, p2);\n\t} else {\n\t\tv = hsl2rgb(h, p1, p2);\n\t}\n\treturn {\n\t\tr: v[0],\n\t\tg: v[1],\n\t\tb: v[2],\n\t\ta: a\n\t};\n}\nfunction rotate(v, deg) {\n\tvar h = rgb2hsl(v);\n\th[0] = hue(h[0] + deg);\n\th = hsl2rgb(h);\n\tv.r = h[0];\n\tv.g = h[1];\n\tv.b = h[2];\n}\nfunction hslString(v) {\n\tif (!v) {\n\t\treturn;\n\t}\n\tconst a = rgb2hsl(v);\n\tconst h = a[0];\n\tconst s = n2p(a[1]);\n\tconst l = n2p(a[2]);\n\treturn v.a < 255\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map$1 = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n\tconst unpacked = {};\n\tconst keys = Object.keys(names);\n\tconst tkeys = Object.keys(map$1);\n\tlet i, j, k, ok, nk;\n\tfor (i = 0; i < keys.length; i++) {\n\t\tok = nk = keys[i];\n\t\tfor (j = 0; j < tkeys.length; j++) {\n\t\t\tk = tkeys[j];\n\t\t\tnk = nk.replace(k, map$1[k]);\n\t\t}\n\t\tk = parseInt(names[ok], 16);\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n\t}\n\treturn unpacked;\n}\nlet names$1;\nfunction nameParse(str) {\n\tif (!names$1) {\n\t\tnames$1 = unpack();\n\t\tnames$1.transparent = [0, 0, 0, 0];\n\t}\n\tconst a = names$1[str.toLowerCase()];\n\treturn a && {\n\t\tr: a[0],\n\t\tg: a[1],\n\t\tb: a[2],\n\t\ta: a.length === 4 ? a[3] : 255\n\t};\n}\nfunction modHSL(v, i, ratio) {\n\tif (v) {\n\t\tlet tmp = rgb2hsl(v);\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n\t\ttmp = hsl2rgb(tmp);\n\t\tv.r = tmp[0];\n\t\tv.g = tmp[1];\n\t\tv.b = tmp[2];\n\t}\n}\nfunction clone(v, proto) {\n\treturn v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\n\tif (Array.isArray(input)) {\n\t\tif (input.length >= 3) {\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\n\t\t\tif (input.length > 3) {\n\t\t\t\tv.a = n2b(input[3]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\n\t\tv.a = n2b(v.a);\n\t}\n\treturn v;\n}\nfunction functionParse(str) {\n\tif (str.charAt(0) === 'r') {\n\t\treturn rgbParse(str);\n\t}\n\treturn hueParse(str);\n}\nclass Color {\n\tconstructor(input) {\n\t\tif (input instanceof Color) {\n\t\t\treturn input;\n\t\t}\n\t\tconst type = typeof input;\n\t\tlet v;\n\t\tif (type === 'object') {\n\t\t\tv = fromObject(input);\n\t\t} else if (type === 'string') {\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\n\t\t}\n\t\tthis._rgb = v;\n\t\tthis._valid = !!v;\n\t}\n\tget valid() {\n\t\treturn this._valid;\n\t}\n\tget rgb() {\n\t\tvar v = clone(this._rgb);\n\t\tif (v) {\n\t\t\tv.a = b2n(v.a);\n\t\t}\n\t\treturn v;\n\t}\n\tset rgb(obj) {\n\t\tthis._rgb = fromObject(obj);\n\t}\n\trgbString() {\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\n\t}\n\thexString() {\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\n\t}\n\thslString() {\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\n\t}\n\tmix(color, weight) {\n\t\tconst me = this;\n\t\tif (color) {\n\t\t\tconst c1 = me.rgb;\n\t\t\tconst c2 = color.rgb;\n\t\t\tlet w2;\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\n\t\t\tconst w = 2 * p - 1;\n\t\t\tconst a = c1.a - c2.a;\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tw2 = 1 - w1;\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\n\t\t\tme.rgb = c1;\n\t\t}\n\t\treturn me;\n\t}\n\tclone() {\n\t\treturn new Color(this.rgb);\n\t}\n\talpha(a) {\n\t\tthis._rgb.a = n2b(a);\n\t\treturn this;\n\t}\n\tclearer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 - ratio;\n\t\treturn this;\n\t}\n\tgreyscale() {\n\t\tconst rgb = this._rgb;\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n\t\trgb.r = rgb.g = rgb.b = val;\n\t\treturn this;\n\t}\n\topaquer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 + ratio;\n\t\treturn this;\n\t}\n\tnegate() {\n\t\tconst v = this._rgb;\n\t\tv.r = 255 - v.r;\n\t\tv.g = 255 - v.g;\n\t\tv.b = 255 - v.b;\n\t\treturn this;\n\t}\n\tlighten(ratio) {\n\t\tmodHSL(this._rgb, 2, ratio);\n\t\treturn this;\n\t}\n\tdarken(ratio) {\n\t\tmodHSL(this._rgb, 2, -ratio);\n\t\treturn this;\n\t}\n\tsaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, ratio);\n\t\treturn this;\n\t}\n\tdesaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, -ratio);\n\t\treturn this;\n\t}\n\trotate(deg) {\n\t\trotate(this._rgb, deg);\n\t\treturn this;\n\t}\n}\nfunction index_esm(input) {\n\treturn new Color(input);\n}\n\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(evt, canvas) {\n  const e = evt.native || evt;\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _toLeftRightCenter as $, _rlookupByKey as A, getAngleFromPoint as B, toPadding as C, each as D, getMaximumSize as E, _getParentNode as F, readUsedSize as G, HALF_PI as H, throttled as I, supportsEventListenerOptions as J, _isDomSupported as K, log10 as L, _factorize as M, finiteOrDefault as N, callback as O, PI as P, _addGrace as Q, toDegrees as R, _measureText as S, TAU as T, _int16Range as U, _alignPixel as V, clipArea as W, renderText as X, unclipArea as Y, toFont as Z, _arrayUnique as _, resolve as a, _angleDiff as a$, _alignStartEnd as a0, overrides as a1, merge as a2, _capitalize as a3, descriptors as a4, isFunction as a5, _attachContext as a6, _createResolver as a7, _descriptors as a8, mergeIf as a9, restoreTextDirection as aA, noop as aB, distanceBetweenPoints as aC, _setMinAndMaxByKey as aD, niceNum as aE, almostWhole as aF, almostEquals as aG, _decimalPlaces as aH, _longestText as aI, _filterBetween as aJ, _lookup as aK, getHoverColor as aL, clone$1 as aM, _merger as aN, _mergerIf as aO, _deprecated as aP, toFontString as aQ, splineCurve as aR, splineCurveMonotone as aS, getStyle as aT, fontString as aU, toLineHeight as aV, PITAU as aW, INFINITY as aX, RAD_PER_DEG as aY, QUARTER_PI as aZ, TWO_THIRDS_PI as a_, uid as aa, debounce as ab, retinaScale as ac, clearCanvas as ad, setsEqual as ae, _elementsEqual as af, _isClickEvent as ag, _isBetween as ah, _readValueToProps as ai, _updateBezierControlPoints as aj, _computeSegments as ak, _boundSegments as al, _steppedInterpolation as am, _bezierInterpolation as an, _pointInLine as ao, _steppedLineTo as ap, _bezierCurveTo as aq, drawPoint as ar, addRoundedRectPath as as, toTRBL as at, toTRBLCorners as au, _boundSegment as av, _normalizeAngle as aw, getRtlAdapter as ax, overrideTextDirection as ay, _textX as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, getRelativePosition as y, _isPointInArea as z };\n","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as getAngleFromPoint, C as toPadding, D as each, E as getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as _isDomSupported, L as log10, M as _factorize, N as finiteOrDefault, O as callback, Q as _addGrace, R as toDegrees, S as _measureText, U as _int16Range, V as _alignPixel, W as clipArea, X as renderText, Y as unclipArea, Z as toFont, $ as _toLeftRightCenter, a0 as _alignStartEnd, a1 as overrides, a2 as merge, a3 as _capitalize, a4 as descriptors, a5 as isFunction, a6 as _attachContext, a7 as _createResolver, a8 as _descriptors, a9 as mergeIf, aa as uid, ab as debounce, ac as retinaScale, ad as clearCanvas, ae as setsEqual, af as _elementsEqual, ag as _isClickEvent, ah as _isBetween, ai as _readValueToProps, aj as _updateBezierControlPoints, ak as _computeSegments, al as _boundSegments, am as _steppedInterpolation, an as _bezierInterpolation, ao as _pointInLine, ap as _steppedLineTo, aq as _bezierCurveTo, ar as drawPoint, as as addRoundedRectPath, at as toTRBL, au as toTRBLCorners, av as _boundSegment, aw as _normalizeAngle, ax as getRtlAdapter, ay as overrideTextDirection, az as _textX, aA as restoreTextDirection, aB as noop, aC as distanceBetweenPoints, aD as _setMinAndMaxByKey, aE as niceNum, aF as almostWhole, aG as almostEquals, aH as _decimalPlaces, aI as _longestText, aJ as _filterBetween, aK as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(this._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (!item.controller.options.grouped) {\n        continue;\n      }\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const dataset = this.getDataset();\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const dataset = this.getDataset();\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const dataset = this.getDataset();\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n  return getRelativePosition$1(e, chart);\n}\nfunction evaluateAllVisibleItems(chart, handler) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  let index, data, element;\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    ({index, data} = metasets[i]);\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  const items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = _isPointInArea(center, chart.chartArea, chart._minPadding);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return [];\n  }\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition);\n}\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  const position = getRelativePosition(e, chart);\n  const items = [];\n  const axis = options.axis;\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\n        getNearestItems(chart, position, axis, false, useFinalPosition);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {axis: 'x', intersect: options.intersect}, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {axis: 'y', intersect: options.intersect}, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition$1(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      if (isHorizontal) {\n        x = pixel;\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.7.1\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n    this.render();\n  }\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n    this.notifyPlugins('afterDestroy');\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: _isPointInArea(e, this.chartArea, this._minPadding)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n    if (inChartArea) {\n      this._lastEvent = null;\n      callback(options.onHover, [e, active, this], this);\n      if (isClick) {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  const {options} = element;\n  const {borderWidth, borderJoinStyle} = options;\n  const inner = options.borderAlign === 'inner';\n  if (!borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (meta.type !== 'line') {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\nfunction decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n    return target;\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  let target = null;\n  let horizontal;\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n  return null;\n}\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const target = [];\n  const start = options.reverse ? scale.max : scale.min;\n  const end = options.reverse ? scale.min : scale.max;\n  let i, center, value;\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\nfunction getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return createBoundaryLine(boundary, line);\n}\nfunction createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _clip(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = findSegmentEnd(start, end, points);\n    const bounds = getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\nfunction _fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n    _fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    _clip(ctx, target, area.bottom);\n  }\n  _fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction drawfill(ctx, source, area) {\n  const target = getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart || config._chart;\n    this._chart = this.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n    const positionChanged = this._positionChanged(active, e);\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n    if (options.reverse) {\n      active.reverse();\n    }\n    return active;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    const args = {\n      tooltip\n    };\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: plugin_filler,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const extra = getTickBackdropHeight(opts) / 2;\n  const outerDistance = scale.drawingArea;\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this._pointLabels.length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","/*!\n * chartjs-plugin-datalabels v2.0.0\n * https://chartjs-plugin-datalabels.netlify.app\n * (c) 2017-2021 chartjs-plugin-datalabels contributors\n * Released under the MIT license\n */\nimport { isNullOrUndef, merge, toFont, resolve, toPadding, valueOrDefault, callback, isObject, each } from 'chart.js/helpers';\nimport { defaults as defaults$1, ArcElement, PointElement, BarElement } from 'chart.js';\n\nvar devicePixelRatio = (function() {\n  if (typeof window !== 'undefined') {\n    if (window.devicePixelRatio) {\n      return window.devicePixelRatio;\n    }\n\n    // devicePixelRatio is undefined on IE10\n    // https://stackoverflow.com/a/20204180/8837887\n    // https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n    var screen = window.screen;\n    if (screen) {\n      return (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n    }\n  }\n\n  return 1;\n}());\n\nvar utils = {\n  // @todo move this in Chart.helpers.toTextLines\n  toTextLines: function(inputs) {\n    var lines = [];\n    var input;\n\n    inputs = [].concat(inputs);\n    while (inputs.length) {\n      input = inputs.pop();\n      if (typeof input === 'string') {\n        lines.unshift.apply(lines, input.split('\\n'));\n      } else if (Array.isArray(input)) {\n        inputs.push.apply(inputs, input);\n      } else if (!isNullOrUndef(inputs)) {\n        lines.unshift('' + input);\n      }\n    }\n\n    return lines;\n  },\n\n  // @todo move this in Chart.helpers.canvas.textSize\n  // @todo cache calls of measureText if font doesn't change?!\n  textSize: function(ctx, lines, font) {\n    var items = [].concat(lines);\n    var ilen = items.length;\n    var prev = ctx.font;\n    var width = 0;\n    var i;\n\n    ctx.font = font.string;\n\n    for (i = 0; i < ilen; ++i) {\n      width = Math.max(ctx.measureText(items[i]).width, width);\n    }\n\n    ctx.font = prev;\n\n    return {\n      height: ilen * font.lineHeight,\n      width: width\n    };\n  },\n\n  /**\n   * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n   * @todo move this method in Chart.helpers.bound\n   * https://doc.qt.io/qt-5/qtglobal.html#qBound\n   */\n  bound: function(min, value, max) {\n    return Math.max(min, Math.min(value, max));\n  },\n\n  /**\n   * Returns an array of pair [value, state] where state is:\n   * * -1: value is only in a0 (removed)\n   * *  1: value is only in a1 (added)\n   */\n  arrayDiff: function(a0, a1) {\n    var prev = a0.slice();\n    var updates = [];\n    var i, j, ilen, v;\n\n    for (i = 0, ilen = a1.length; i < ilen; ++i) {\n      v = a1[i];\n      j = prev.indexOf(v);\n\n      if (j === -1) {\n        updates.push([v, 1]);\n      } else {\n        prev.splice(j, 1);\n      }\n    }\n\n    for (i = 0, ilen = prev.length; i < ilen; ++i) {\n      updates.push([prev[i], -1]);\n    }\n\n    return updates;\n  },\n\n  /**\n   * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n   */\n  rasterize: function(v) {\n    return Math.round(v * devicePixelRatio) / devicePixelRatio;\n  }\n};\n\nfunction orient(point, origin) {\n  var x0 = origin.x;\n  var y0 = origin.y;\n\n  if (x0 === null) {\n    return {x: 0, y: -1};\n  }\n  if (y0 === null) {\n    return {x: 1, y: 0};\n  }\n\n  var dx = point.x - x0;\n  var dy = point.y - y0;\n  var ln = Math.sqrt(dx * dx + dy * dy);\n\n  return {\n    x: ln ? dx / ln : 0,\n    y: ln ? dy / ln : -1\n  };\n}\n\nfunction aligned(x, y, vx, vy, align) {\n  switch (align) {\n  case 'center':\n    vx = vy = 0;\n    break;\n  case 'bottom':\n    vx = 0;\n    vy = 1;\n    break;\n  case 'right':\n    vx = 1;\n    vy = 0;\n    break;\n  case 'left':\n    vx = -1;\n    vy = 0;\n    break;\n  case 'top':\n    vx = 0;\n    vy = -1;\n    break;\n  case 'start':\n    vx = -vx;\n    vy = -vy;\n    break;\n  case 'end':\n    // keep natural orientation\n    break;\n  default:\n    // clockwise rotation (in degree)\n    align *= (Math.PI / 180);\n    vx = Math.cos(align);\n    vy = Math.sin(align);\n    break;\n  }\n\n  return {\n    x: x,\n    y: y,\n    vx: vx,\n    vy: vy\n  };\n}\n\n// Line clipping (CohenSutherland algorithm)\n// https://en.wikipedia.org/wiki/CohenSutherland_algorithm\n\nvar R_INSIDE = 0;\nvar R_LEFT = 1;\nvar R_RIGHT = 2;\nvar R_BOTTOM = 4;\nvar R_TOP = 8;\n\nfunction region(x, y, rect) {\n  var res = R_INSIDE;\n\n  if (x < rect.left) {\n    res |= R_LEFT;\n  } else if (x > rect.right) {\n    res |= R_RIGHT;\n  }\n  if (y < rect.top) {\n    res |= R_TOP;\n  } else if (y > rect.bottom) {\n    res |= R_BOTTOM;\n  }\n\n  return res;\n}\n\nfunction clipped(segment, area) {\n  var x0 = segment.x0;\n  var y0 = segment.y0;\n  var x1 = segment.x1;\n  var y1 = segment.y1;\n  var r0 = region(x0, y0, area);\n  var r1 = region(x1, y1, area);\n  var r, x, y;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (!(r0 | r1) || (r0 & r1)) {\n      // both points inside or on the same side: no clipping\n      break;\n    }\n\n    // at least one point is outside\n    r = r0 || r1;\n\n    if (r & R_TOP) {\n      x = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n      y = area.top;\n    } else if (r & R_BOTTOM) {\n      x = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n      y = area.bottom;\n    } else if (r & R_RIGHT) {\n      y = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n      x = area.right;\n    } else if (r & R_LEFT) {\n      y = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n      x = area.left;\n    }\n\n    if (r === r0) {\n      x0 = x;\n      y0 = y;\n      r0 = region(x0, y0, area);\n    } else {\n      x1 = x;\n      y1 = y;\n      r1 = region(x1, y1, area);\n    }\n  }\n\n  return {\n    x0: x0,\n    x1: x1,\n    y0: y0,\n    y1: y1\n  };\n}\n\nfunction compute$1(range, config) {\n  var anchor = config.anchor;\n  var segment = range;\n  var x, y;\n\n  if (config.clamp) {\n    segment = clipped(segment, config.area);\n  }\n\n  if (anchor === 'start') {\n    x = segment.x0;\n    y = segment.y0;\n  } else if (anchor === 'end') {\n    x = segment.x1;\n    y = segment.y1;\n  } else {\n    x = (segment.x0 + segment.x1) / 2;\n    y = (segment.y0 + segment.y1) / 2;\n  }\n\n  return aligned(x, y, range.vx, range.vy, config.align);\n}\n\nvar positioners = {\n  arc: function(el, config) {\n    var angle = (el.startAngle + el.endAngle) / 2;\n    var vx = Math.cos(angle);\n    var vy = Math.sin(angle);\n    var r0 = el.innerRadius;\n    var r1 = el.outerRadius;\n\n    return compute$1({\n      x0: el.x + vx * r0,\n      y0: el.y + vy * r0,\n      x1: el.x + vx * r1,\n      y1: el.y + vy * r1,\n      vx: vx,\n      vy: vy\n    }, config);\n  },\n\n  point: function(el, config) {\n    var v = orient(el, config.origin);\n    var rx = v.x * el.options.radius;\n    var ry = v.y * el.options.radius;\n\n    return compute$1({\n      x0: el.x - rx,\n      y0: el.y - ry,\n      x1: el.x + rx,\n      y1: el.y + ry,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  },\n\n  bar: function(el, config) {\n    var v = orient(el, config.origin);\n    var x = el.x;\n    var y = el.y;\n    var sx = 0;\n    var sy = 0;\n\n    if (el.horizontal) {\n      x = Math.min(el.x, el.base);\n      sx = Math.abs(el.base - el.x);\n    } else {\n      y = Math.min(el.y, el.base);\n      sy = Math.abs(el.base - el.y);\n    }\n\n    return compute$1({\n      x0: x,\n      y0: y + sy,\n      x1: x + sx,\n      y1: y,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  },\n\n  fallback: function(el, config) {\n    var v = orient(el, config.origin);\n\n    return compute$1({\n      x0: el.x,\n      y0: el.y,\n      x1: el.x,\n      y1: el.y,\n      vx: v.x,\n      vy: v.y\n    }, config);\n  }\n};\n\nvar rasterize = utils.rasterize;\n\nfunction boundingRects(model) {\n  var borderWidth = model.borderWidth || 0;\n  var padding = model.padding;\n  var th = model.size.height;\n  var tw = model.size.width;\n  var tx = -tw / 2;\n  var ty = -th / 2;\n\n  return {\n    frame: {\n      x: tx - padding.left - borderWidth,\n      y: ty - padding.top - borderWidth,\n      w: tw + padding.width + borderWidth * 2,\n      h: th + padding.height + borderWidth * 2\n    },\n    text: {\n      x: tx,\n      y: ty,\n      w: tw,\n      h: th\n    }\n  };\n}\n\nfunction getScaleOrigin(el, context) {\n  var scale = context.chart.getDatasetMeta(context.datasetIndex).vScale;\n\n  if (!scale) {\n    return null;\n  }\n\n  if (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n    return {x: scale.xCenter, y: scale.yCenter};\n  }\n\n  var pixel = scale.getBasePixel();\n  return el.horizontal ?\n    {x: pixel, y: null} :\n    {x: null, y: pixel};\n}\n\nfunction getPositioner(el) {\n  if (el instanceof ArcElement) {\n    return positioners.arc;\n  }\n  if (el instanceof PointElement) {\n    return positioners.point;\n  }\n  if (el instanceof BarElement) {\n    return positioners.bar;\n  }\n  return positioners.fallback;\n}\n\nfunction drawRoundedRect(ctx, x, y, w, h, radius) {\n  var HALF_PI = Math.PI / 2;\n\n  if (radius) {\n    var r = Math.min(radius, h / 2, w / 2);\n    var left = x + r;\n    var top = y + r;\n    var right = x + w - r;\n    var bottom = y + h - r;\n\n    ctx.moveTo(x, top);\n    if (left < right && top < bottom) {\n      ctx.arc(left, top, r, -Math.PI, -HALF_PI);\n      ctx.arc(right, top, r, -HALF_PI, 0);\n      ctx.arc(right, bottom, r, 0, HALF_PI);\n      ctx.arc(left, bottom, r, HALF_PI, Math.PI);\n    } else if (left < right) {\n      ctx.moveTo(left, y);\n      ctx.arc(right, top, r, -HALF_PI, HALF_PI);\n      ctx.arc(left, top, r, HALF_PI, Math.PI + HALF_PI);\n    } else if (top < bottom) {\n      ctx.arc(left, top, r, -Math.PI, 0);\n      ctx.arc(left, bottom, r, 0, Math.PI);\n    } else {\n      ctx.arc(left, top, r, -Math.PI, Math.PI);\n    }\n    ctx.closePath();\n    ctx.moveTo(x, y);\n  } else {\n    ctx.rect(x, y, w, h);\n  }\n}\n\nfunction drawFrame(ctx, rect, model) {\n  var bgColor = model.backgroundColor;\n  var borderColor = model.borderColor;\n  var borderWidth = model.borderWidth;\n\n  if (!bgColor && (!borderColor || !borderWidth)) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  drawRoundedRect(\n    ctx,\n    rasterize(rect.x) + borderWidth / 2,\n    rasterize(rect.y) + borderWidth / 2,\n    rasterize(rect.w) - borderWidth,\n    rasterize(rect.h) - borderWidth,\n    model.borderRadius);\n\n  ctx.closePath();\n\n  if (bgColor) {\n    ctx.fillStyle = bgColor;\n    ctx.fill();\n  }\n\n  if (borderColor && borderWidth) {\n    ctx.strokeStyle = borderColor;\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = 'miter';\n    ctx.stroke();\n  }\n}\n\nfunction textGeometry(rect, align, font) {\n  var h = font.lineHeight;\n  var w = rect.w;\n  var x = rect.x;\n  var y = rect.y + h / 2;\n\n  if (align === 'center') {\n    x += w / 2;\n  } else if (align === 'end' || align === 'right') {\n    x += w;\n  }\n\n  return {\n    h: h,\n    w: w,\n    x: x,\n    y: y\n  };\n}\n\nfunction drawTextLine(ctx, text, cfg) {\n  var shadow = ctx.shadowBlur;\n  var stroked = cfg.stroked;\n  var x = rasterize(cfg.x);\n  var y = rasterize(cfg.y);\n  var w = rasterize(cfg.w);\n\n  if (stroked) {\n    ctx.strokeText(text, x, y, w);\n  }\n\n  if (cfg.filled) {\n    if (shadow && stroked) {\n      // Prevent drawing shadow on both the text stroke and fill, so\n      // if the text is stroked, remove the shadow for the text fill.\n      ctx.shadowBlur = 0;\n    }\n\n    ctx.fillText(text, x, y, w);\n\n    if (shadow && stroked) {\n      ctx.shadowBlur = shadow;\n    }\n  }\n}\n\nfunction drawText(ctx, lines, rect, model) {\n  var align = model.textAlign;\n  var color = model.color;\n  var filled = !!color;\n  var font = model.font;\n  var ilen = lines.length;\n  var strokeColor = model.textStrokeColor;\n  var strokeWidth = model.textStrokeWidth;\n  var stroked = strokeColor && strokeWidth;\n  var i;\n\n  if (!ilen || (!filled && !stroked)) {\n    return;\n  }\n\n  // Adjust coordinates based on text alignment and line height\n  rect = textGeometry(rect, align, font);\n\n  ctx.font = font.string;\n  ctx.textAlign = align;\n  ctx.textBaseline = 'middle';\n  ctx.shadowBlur = model.textShadowBlur;\n  ctx.shadowColor = model.textShadowColor;\n\n  if (filled) {\n    ctx.fillStyle = color;\n  }\n  if (stroked) {\n    ctx.lineJoin = 'round';\n    ctx.lineWidth = strokeWidth;\n    ctx.strokeStyle = strokeColor;\n  }\n\n  for (i = 0, ilen = lines.length; i < ilen; ++i) {\n    drawTextLine(ctx, lines[i], {\n      stroked: stroked,\n      filled: filled,\n      w: rect.w,\n      x: rect.x,\n      y: rect.y + rect.h * i\n    });\n  }\n}\n\nvar Label = function(config, ctx, el, index) {\n  var me = this;\n\n  me._config = config;\n  me._index = index;\n  me._model = null;\n  me._rects = null;\n  me._ctx = ctx;\n  me._el = el;\n};\n\nmerge(Label.prototype, {\n  /**\n   * @private\n   */\n  _modelize: function(display, lines, config, context) {\n    var me = this;\n    var index = me._index;\n    var font = toFont(resolve([config.font, {}], context, index));\n    var color = resolve([config.color, defaults$1.color], context, index);\n\n    return {\n      align: resolve([config.align, 'center'], context, index),\n      anchor: resolve([config.anchor, 'center'], context, index),\n      area: context.chart.chartArea,\n      backgroundColor: resolve([config.backgroundColor, null], context, index),\n      borderColor: resolve([config.borderColor, null], context, index),\n      borderRadius: resolve([config.borderRadius, 0], context, index),\n      borderWidth: resolve([config.borderWidth, 0], context, index),\n      clamp: resolve([config.clamp, false], context, index),\n      clip: resolve([config.clip, false], context, index),\n      color: color,\n      display: display,\n      font: font,\n      lines: lines,\n      offset: resolve([config.offset, 0], context, index),\n      opacity: resolve([config.opacity, 1], context, index),\n      origin: getScaleOrigin(me._el, context),\n      padding: toPadding(resolve([config.padding, 0], context, index)),\n      positioner: getPositioner(me._el),\n      rotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n      size: utils.textSize(me._ctx, lines, font),\n      textAlign: resolve([config.textAlign, 'start'], context, index),\n      textShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n      textShadowColor: resolve([config.textShadowColor, color], context, index),\n      textStrokeColor: resolve([config.textStrokeColor, color], context, index),\n      textStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n    };\n  },\n\n  update: function(context) {\n    var me = this;\n    var model = null;\n    var rects = null;\n    var index = me._index;\n    var config = me._config;\n    var value, label, lines;\n\n    // We first resolve the display option (separately) to avoid computing\n    // other options in case the label is hidden (i.e. display: false).\n    var display = resolve([config.display, true], context, index);\n\n    if (display) {\n      value = context.dataset.data[index];\n      label = valueOrDefault(callback(config.formatter, [value, context]), value);\n      lines = isNullOrUndef(label) ? [] : utils.toTextLines(label);\n\n      if (lines.length) {\n        model = me._modelize(display, lines, config, context);\n        rects = boundingRects(model);\n      }\n    }\n\n    me._model = model;\n    me._rects = rects;\n  },\n\n  geometry: function() {\n    return this._rects ? this._rects.frame : {};\n  },\n\n  rotation: function() {\n    return this._model ? this._model.rotation : 0;\n  },\n\n  visible: function() {\n    return this._model && this._model.opacity;\n  },\n\n  model: function() {\n    return this._model;\n  },\n\n  draw: function(chart, center) {\n    var me = this;\n    var ctx = chart.ctx;\n    var model = me._model;\n    var rects = me._rects;\n    var area;\n\n    if (!this.visible()) {\n      return;\n    }\n\n    ctx.save();\n\n    if (model.clip) {\n      area = model.area;\n      ctx.beginPath();\n      ctx.rect(\n        area.left,\n        area.top,\n        area.right - area.left,\n        area.bottom - area.top);\n      ctx.clip();\n    }\n\n    ctx.globalAlpha = utils.bound(0, model.opacity, 1);\n    ctx.translate(rasterize(center.x), rasterize(center.y));\n    ctx.rotate(model.rotation);\n\n    drawFrame(ctx, rects.frame, model);\n    drawText(ctx, model.lines, rects.text, model);\n\n    ctx.restore();\n  }\n});\n\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;  // eslint-disable-line es/no-number-maxsafeinteger\n\nfunction rotated(point, center, angle) {\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  var cx = center.x;\n  var cy = center.y;\n\n  return {\n    x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n    y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n  };\n}\n\nfunction projected(points, axis) {\n  var min = MAX_INTEGER;\n  var max = MIN_INTEGER;\n  var origin = axis.origin;\n  var i, pt, vx, vy, dp;\n\n  for (i = 0; i < points.length; ++i) {\n    pt = points[i];\n    vx = pt.x - origin.x;\n    vy = pt.y - origin.y;\n    dp = axis.vx * vx + axis.vy * vy;\n    min = Math.min(min, dp);\n    max = Math.max(max, dp);\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n}\n\nfunction toAxis(p0, p1) {\n  var vx = p1.x - p0.x;\n  var vy = p1.y - p0.y;\n  var ln = Math.sqrt(vx * vx + vy * vy);\n\n  return {\n    vx: (p1.x - p0.x) / ln,\n    vy: (p1.y - p0.y) / ln,\n    origin: p0,\n    ln: ln\n  };\n}\n\nvar HitBox = function() {\n  this._rotation = 0;\n  this._rect = {\n    x: 0,\n    y: 0,\n    w: 0,\n    h: 0\n  };\n};\n\nmerge(HitBox.prototype, {\n  center: function() {\n    var r = this._rect;\n    return {\n      x: r.x + r.w / 2,\n      y: r.y + r.h / 2\n    };\n  },\n\n  update: function(center, rect, rotation) {\n    this._rotation = rotation;\n    this._rect = {\n      x: rect.x + center.x,\n      y: rect.y + center.y,\n      w: rect.w,\n      h: rect.h\n    };\n  },\n\n  contains: function(point) {\n    var me = this;\n    var margin = 1;\n    var rect = me._rect;\n\n    point = rotated(point, me.center(), -me._rotation);\n\n    return !(point.x < rect.x - margin\n      || point.y < rect.y - margin\n      || point.x > rect.x + rect.w + margin * 2\n      || point.y > rect.y + rect.h + margin * 2);\n  },\n\n  // Separating Axis Theorem\n  // https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n  intersects: function(other) {\n    var r0 = this._points();\n    var r1 = other._points();\n    var axes = [\n      toAxis(r0[0], r0[1]),\n      toAxis(r0[0], r0[3])\n    ];\n    var i, pr0, pr1;\n\n    if (this._rotation !== other._rotation) {\n      // Only separate with r1 axis if the rotation is different,\n      // else it's enough to separate r0 and r1 with r0 axis only!\n      axes.push(\n        toAxis(r1[0], r1[1]),\n        toAxis(r1[0], r1[3])\n      );\n    }\n\n    for (i = 0; i < axes.length; ++i) {\n      pr0 = projected(r0, axes[i]);\n      pr1 = projected(r1, axes[i]);\n\n      if (pr0.max < pr1.min || pr1.max < pr0.min) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\n   * @private\n   */\n  _points: function() {\n    var me = this;\n    var rect = me._rect;\n    var angle = me._rotation;\n    var center = me.center();\n\n    return [\n      rotated({x: rect.x, y: rect.y}, center, angle),\n      rotated({x: rect.x + rect.w, y: rect.y}, center, angle),\n      rotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle),\n      rotated({x: rect.x, y: rect.y + rect.h}, center, angle)\n    ];\n  }\n});\n\nfunction coordinates(el, model, geometry) {\n  var point = model.positioner(el, model);\n  var vx = point.vx;\n  var vy = point.vy;\n\n  if (!vx && !vy) {\n    // if aligned center, we don't want to offset the center point\n    return {x: point.x, y: point.y};\n  }\n\n  var w = geometry.w;\n  var h = geometry.h;\n\n  // take in account the label rotation\n  var rotation = model.rotation;\n  var dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n  var dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\n\n  // scale the unit vector (vx, vy) to get at least dx or dy equal to\n  // w or h respectively (else we would calculate the distance to the\n  // ellipse inscribed in the bounding rect)\n  var vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n  dx *= vx * vs;\n  dy *= vy * vs;\n\n  // finally, include the explicit offset\n  dx += model.offset * vx;\n  dy += model.offset * vy;\n\n  return {\n    x: point.x + dx,\n    y: point.y + dy\n  };\n}\n\nfunction collide(labels, collider) {\n  var i, j, s0, s1;\n\n  // IMPORTANT Iterate in the reverse order since items at the end of the\n  // list have an higher weight/priority and thus should be less impacted\n  // by the overlapping strategy.\n\n  for (i = labels.length - 1; i >= 0; --i) {\n    s0 = labels[i].$layout;\n\n    for (j = i - 1; j >= 0 && s0._visible; --j) {\n      s1 = labels[j].$layout;\n\n      if (s1._visible && s0._box.intersects(s1._box)) {\n        collider(s0, s1);\n      }\n    }\n  }\n\n  return labels;\n}\n\nfunction compute(labels) {\n  var i, ilen, label, state, geometry, center, proxy;\n\n  // Initialize labels for overlap detection\n  for (i = 0, ilen = labels.length; i < ilen; ++i) {\n    label = labels[i];\n    state = label.$layout;\n\n    if (state._visible) {\n      // Chart.js 3 removed el._model in favor of getProps(), making harder to\n      // abstract reading values in positioners. Also, using string arrays to\n      // read values (i.e. var {a,b,c} = el.getProps([\"a\",\"b\",\"c\"])) would make\n      // positioners inefficient in the normal case (i.e. not the final values)\n      // and the code a bit ugly, so let's use a Proxy instead.\n      proxy = new Proxy(label._el, {get: (el, p) => el.getProps([p], true)[p]});\n\n      geometry = label.geometry();\n      center = coordinates(proxy, label.model(), geometry);\n      state._box.update(center, geometry, label.rotation());\n    }\n  }\n\n  // Auto hide overlapping labels\n  return collide(labels, function(s0, s1) {\n    var h0 = s0._hidable;\n    var h1 = s1._hidable;\n\n    if ((h0 && h1) || h1) {\n      s1._visible = false;\n    } else if (h0) {\n      s0._visible = false;\n    }\n  });\n}\n\nvar layout = {\n  prepare: function(datasets) {\n    var labels = [];\n    var i, j, ilen, jlen, label;\n\n    for (i = 0, ilen = datasets.length; i < ilen; ++i) {\n      for (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n        label = datasets[i][j];\n        labels.push(label);\n        label.$layout = {\n          _box: new HitBox(),\n          _hidable: false,\n          _visible: true,\n          _set: i,\n          _idx: j\n        };\n      }\n    }\n\n    // TODO New `z` option: labels with a higher z-index are drawn\n    // of top of the ones with a lower index. Lowest z-index labels\n    // are also discarded first when hiding overlapping labels.\n    labels.sort(function(a, b) {\n      var sa = a.$layout;\n      var sb = b.$layout;\n\n      return sa._idx === sb._idx\n        ? sb._set - sa._set\n        : sb._idx - sa._idx;\n    });\n\n    this.update(labels);\n\n    return labels;\n  },\n\n  update: function(labels) {\n    var dirty = false;\n    var i, ilen, label, model, state;\n\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      model = label.model();\n      state = label.$layout;\n      state._hidable = model && model.display === 'auto';\n      state._visible = label.visible();\n      dirty |= state._hidable;\n    }\n\n    if (dirty) {\n      compute(labels);\n    }\n  },\n\n  lookup: function(labels, point) {\n    var i, state;\n\n    // IMPORTANT Iterate in the reverse order since items at the end of\n    // the list have an higher z-index, thus should be picked first.\n\n    for (i = labels.length - 1; i >= 0; --i) {\n      state = labels[i].$layout;\n\n      if (state && state._visible && state._box.contains(point)) {\n        return labels[i];\n      }\n    }\n\n    return null;\n  },\n\n  draw: function(chart, labels) {\n    var i, ilen, label, state, geometry, center;\n\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      state = label.$layout;\n\n      if (state._visible) {\n        geometry = label.geometry();\n        center = coordinates(label._el, label.model(), geometry);\n        state._box.update(center, geometry, label.rotation());\n        label.draw(chart, center);\n      }\n    }\n  }\n};\n\nvar formatter = function(value) {\n  if (isNullOrUndef(value)) {\n    return null;\n  }\n\n  var label = value;\n  var keys, klen, k;\n  if (isObject(value)) {\n    if (!isNullOrUndef(value.label)) {\n      label = value.label;\n    } else if (!isNullOrUndef(value.r)) {\n      label = value.r;\n    } else {\n      label = '';\n      keys = Object.keys(value);\n      for (k = 0, klen = keys.length; k < klen; ++k) {\n        label += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n      }\n    }\n  }\n\n  return '' + label;\n};\n\n/**\n * IMPORTANT: make sure to also update tests and TypeScript definition\n * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n */\n\nvar defaults = {\n  align: 'center',\n  anchor: 'center',\n  backgroundColor: null,\n  borderColor: null,\n  borderRadius: 0,\n  borderWidth: 0,\n  clamp: false,\n  clip: false,\n  color: undefined,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: 1.2,\n    size: undefined,\n    style: undefined,\n    weight: null\n  },\n  formatter: formatter,\n  labels: undefined,\n  listeners: {},\n  offset: 4,\n  opacity: 1,\n  padding: {\n    top: 4,\n    right: 4,\n    bottom: 4,\n    left: 4\n  },\n  rotation: 0,\n  textAlign: 'start',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  textShadowBlur: 0,\n  textShadowColor: undefined\n};\n\n/**\n * @see https://github.com/chartjs/Chart.js/issues/4176\n */\n\nvar EXPANDO_KEY = '$datalabels';\nvar DEFAULT_KEY = '$default';\n\nfunction configure(dataset, options) {\n  var override = dataset.datalabels;\n  var listeners = {};\n  var configs = [];\n  var labels, keys;\n\n  if (override === false) {\n    return null;\n  }\n  if (override === true) {\n    override = {};\n  }\n\n  options = merge({}, [options, override]);\n  labels = options.labels || {};\n  keys = Object.keys(labels);\n  delete options.labels;\n\n  if (keys.length) {\n    keys.forEach(function(key) {\n      if (labels[key]) {\n        configs.push(merge({}, [\n          options,\n          labels[key],\n          {_key: key}\n        ]));\n      }\n    });\n  } else {\n    // Default label if no \"named\" label defined.\n    configs.push(options);\n  }\n\n  // listeners: {<event-type>: {<label-key>: <fn>}}\n  listeners = configs.reduce(function(target, config) {\n    each(config.listeners || {}, function(fn, event) {\n      target[event] = target[event] || {};\n      target[event][config._key || DEFAULT_KEY] = fn;\n    });\n\n    delete config.listeners;\n    return target;\n  }, {});\n\n  return {\n    labels: configs,\n    listeners: listeners\n  };\n}\n\nfunction dispatchEvent(chart, listeners, label) {\n  if (!listeners) {\n    return;\n  }\n\n  var context = label.$context;\n  var groups = label.$groups;\n  var callback$1;\n\n  if (!listeners[groups._set]) {\n    return;\n  }\n\n  callback$1 = listeners[groups._set][groups._key];\n  if (!callback$1) {\n    return;\n  }\n\n  if (callback(callback$1, [context]) === true) {\n    // Users are allowed to tweak the given context by injecting values that can be\n    // used in scriptable options to display labels differently based on the current\n    // event (e.g. highlight an hovered label). That's why we update the label with\n    // the output context and schedule a new chart render by setting it dirty.\n    chart[EXPANDO_KEY]._dirty = true;\n    label.update(context);\n  }\n}\n\nfunction dispatchMoveEvents(chart, listeners, previous, label) {\n  var enter, leave;\n\n  if (!previous && !label) {\n    return;\n  }\n\n  if (!previous) {\n    enter = true;\n  } else if (!label) {\n    leave = true;\n  } else if (previous !== label) {\n    leave = enter = true;\n  }\n\n  if (leave) {\n    dispatchEvent(chart, listeners.leave, previous);\n  }\n  if (enter) {\n    dispatchEvent(chart, listeners.enter, label);\n  }\n}\n\nfunction handleMoveEvents(chart, event) {\n  var expando = chart[EXPANDO_KEY];\n  var listeners = expando._listeners;\n  var previous, label;\n\n  if (!listeners.enter && !listeners.leave) {\n    return;\n  }\n\n  if (event.type === 'mousemove') {\n    label = layout.lookup(expando._labels, event);\n  } else if (event.type !== 'mouseout') {\n    return;\n  }\n\n  previous = expando._hovered;\n  expando._hovered = label;\n  dispatchMoveEvents(chart, listeners, previous, label);\n}\n\nfunction handleClickEvents(chart, event) {\n  var expando = chart[EXPANDO_KEY];\n  var handlers = expando._listeners.click;\n  var label = handlers && layout.lookup(expando._labels, event);\n  if (label) {\n    dispatchEvent(chart, handlers, label);\n  }\n}\n\nvar plugin = {\n  id: 'datalabels',\n\n  defaults: defaults,\n\n  beforeInit: function(chart) {\n    chart[EXPANDO_KEY] = {\n      _actives: []\n    };\n  },\n\n  beforeUpdate: function(chart) {\n    var expando = chart[EXPANDO_KEY];\n    expando._listened = false;\n    expando._listeners = {};     // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}}\n    expando._datasets = [];      // per dataset labels: [Label[]]\n    expando._labels = [];        // layouted labels: Label[]\n  },\n\n  afterDatasetUpdate: function(chart, args, options) {\n    var datasetIndex = args.index;\n    var expando = chart[EXPANDO_KEY];\n    var labels = expando._datasets[datasetIndex] = [];\n    var visible = chart.isDatasetVisible(datasetIndex);\n    var dataset = chart.data.datasets[datasetIndex];\n    var config = configure(dataset, options);\n    var elements = args.meta.data || [];\n    var ctx = chart.ctx;\n    var i, j, ilen, jlen, cfg, key, el, label;\n\n    ctx.save();\n\n    for (i = 0, ilen = elements.length; i < ilen; ++i) {\n      el = elements[i];\n      el[EXPANDO_KEY] = [];\n\n      if (visible && el && chart.getDataVisibility(i) && !el.skip) {\n        for (j = 0, jlen = config.labels.length; j < jlen; ++j) {\n          cfg = config.labels[j];\n          key = cfg._key;\n\n          label = new Label(cfg, ctx, el, i);\n          label.$groups = {\n            _set: datasetIndex,\n            _key: key || DEFAULT_KEY\n          };\n          label.$context = {\n            active: false,\n            chart: chart,\n            dataIndex: i,\n            dataset: dataset,\n            datasetIndex: datasetIndex\n          };\n\n          label.update(label.$context);\n          el[EXPANDO_KEY].push(label);\n          labels.push(label);\n        }\n      }\n    }\n\n    ctx.restore();\n\n    // Store listeners at the chart level and per event type to optimize\n    // cases where no listeners are registered for a specific event.\n    merge(expando._listeners, config.listeners, {\n      merger: function(event, target, source) {\n        target[event] = target[event] || {};\n        target[event][args.index] = source[event];\n        expando._listened = true;\n      }\n    });\n  },\n\n  afterUpdate: function(chart, options) {\n    chart[EXPANDO_KEY]._labels = layout.prepare(\n      chart[EXPANDO_KEY]._datasets,\n      options);\n  },\n\n  // Draw labels on top of all dataset elements\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n  afterDatasetsDraw: function(chart) {\n    layout.draw(chart, chart[EXPANDO_KEY]._labels);\n  },\n\n  beforeEvent: function(chart, args) {\n    // If there is no listener registered for this chart, `listened` will be false,\n    // meaning we can immediately ignore the incoming event and avoid useless extra\n    // computation for users who don't implement label interactions.\n    if (chart[EXPANDO_KEY]._listened) {\n      var event = args.event;\n      switch (event.type) {\n      case 'mousemove':\n      case 'mouseout':\n        handleMoveEvents(chart, event);\n        break;\n      case 'click':\n        handleClickEvents(chart, event);\n        break;\n      }\n    }\n  },\n\n  afterEvent: function(chart) {\n    var expando = chart[EXPANDO_KEY];\n    var previous = expando._actives;\n    var actives = expando._actives = chart.getActiveElements();\n    var updates = utils.arrayDiff(previous, actives);\n    var i, ilen, j, jlen, update, label, labels;\n\n    for (i = 0, ilen = updates.length; i < ilen; ++i) {\n      update = updates[i];\n      if (update[1]) {\n        labels = update[0].element[EXPANDO_KEY] || [];\n        for (j = 0, jlen = labels.length; j < jlen; ++j) {\n          label = labels[j];\n          label.$context.active = (update[1] === 1);\n          label.update(label.$context);\n        }\n      }\n    }\n\n    if (expando._dirty || updates.length) {\n      layout.update(expando._labels);\n      chart.render();\n    }\n\n    delete expando._dirty;\n  }\n};\n\nexport default plugin;\n","import { Chart, LinearScale, CategoryScale, BarController, BarElement, Title} from 'chart.js';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nChart.register(ChartDataLabels, LinearScale, BarController, BarElement, CategoryScale, Title);\r\nChart.defaults.font.family = 'Montserrat';\r\nimport { duration } from 'dayjs';\r\nimport { ChartType } from '../const';\r\nimport { formatDuration } from '../util/point';\r\nconst BAR_HEIGHT = 55;\r\n\r\nexport const createChart = (containerElement, labels, data, chartType) => {\r\n  containerElement.height = BAR_HEIGHT * labels.length;\r\n\r\n  const formatLabel = () => {\r\n    switch (chartType) {\r\n      case ChartType.AMOUNT:\r\n        return (val) => `${val}x`;\r\n      case ChartType.PRICE:\r\n        return (val) => ` ${val}`;\r\n      case ChartType.PERIOD:\r\n        return (val) => formatDuration(duration(val));\r\n    }\r\n  };\r\n\r\n  return new Chart(containerElement, {\r\n    plugins: [ChartDataLabels],\r\n    type: 'bar',\r\n    data: {\r\n      labels: labels,\r\n      datasets: [{\r\n        data: data,\r\n        backgroundColor: '#97d4ff',\r\n        barThickness: 45,\r\n        minBarLength: 120,\r\n        borderRadius: 7,\r\n      }],\r\n    },\r\n    options: {\r\n      indexAxis: 'y',\r\n      plugins: {\r\n        datalabels: {\r\n          font: {\r\n            size: 20,\r\n          },\r\n          color: '#000000',\r\n          anchor: 'end',\r\n          align: 'start',\r\n          formatter: formatLabel(),\r\n        },\r\n        title: {\r\n          display: true,\r\n          text: chartType,\r\n          color: '#000000',\r\n          fullSize: true,\r\n          position: 'left',\r\n          font: {\r\n            size: 24,\r\n          }\r\n        },\r\n      },\r\n      scales: {\r\n        y: {\r\n          ticks: {\r\n            fontColor: '#100000',\r\n            padding: 5,\r\n            font: {\r\n              size: 14\r\n            },\r\n          },\r\n          grid: {\r\n            display: false,\r\n            drawBorder: false,\r\n          },\r\n        },\r\n        x: {\r\n          ticks: {\r\n            display: false,\r\n          },\r\n          grid: {\r\n            display: false,\r\n            drawBorder: false,\r\n          },\r\n        }\r\n      },\r\n    },\r\n  });};\r\n","import AbstractComponent from './abstract-component';\r\nimport { createChart } from '../util/chart';\r\nimport { ChartType } from '../const';\r\n\r\n\r\nconst createStatistic = () => `<section class=\"statistics\">\r\n  <h2 class=\"visually-hidden\">Trip statistics</h2>\r\n\r\n  <div class=\"statistics__item\">\r\n    <canvas class=\"statistics__chart\" id=\"money\" width=\"900\"></canvas>\r\n  </div>\r\n\r\n  <div class=\"statistics__item\">\r\n    <canvas class=\"statistics__chart\" id=\"type\" width=\"900\"></canvas>\r\n  </div>\r\n\r\n  <div class=\"statistics__item\">\r\n    <canvas class=\"statistics__chart\" id=\"time-spend\" width=\"900\"></canvas>\r\n  </div>\r\n</section>`;\r\n\r\nexport default class Statistic extends AbstractComponent {\r\n  constructor(pointsData) {\r\n    super();\r\n    this._pointsData = pointsData;\r\n    this.createCharts();\r\n  }\r\n\r\n  getTemplate() {\r\n    return createStatistic();\r\n  }\r\n\r\n  createCharts() {\r\n    const chartElement = this.getElement();\r\n    const moneyCtx = chartElement.querySelector('#money');\r\n    const timeCtx = chartElement.querySelector('#time-spend');\r\n    const typeCtx = chartElement.querySelector('#type');\r\n\r\n    const createChartData = () => {\r\n      const data = {};\r\n      this._pointsData.slice().forEach((value) => {\r\n        const currEvent = value.event.toUpperCase();\r\n        if (data[currEvent]) {\r\n          data[currEvent].totalPrice += value.price;\r\n          data[currEvent].period += value.toTime - value.fromTime;\r\n          data[currEvent].amount += 1;\r\n        } else {\r\n          data[currEvent] = {\r\n            totalPrice: value.price,\r\n            period: value.toTime - value.fromTime,\r\n            amount: 1,\r\n          };\r\n        }\r\n      });\r\n      return data;\r\n    };\r\n\r\n    const chartData = createChartData();\r\n    const labels = Object.keys(chartData);\r\n    const prices = Object.values(chartData).map(({totalPrice}) => totalPrice);\r\n    const periods = Object.values(chartData).map(({period}) => period);\r\n    const amounts = Object.values(chartData).map(({amount}) => amount);\r\n    createChart(moneyCtx, labels, prices, ChartType.PRICE);\r\n    createChart(timeCtx, labels, periods, ChartType.PERIOD);\r\n    createChart(typeCtx, labels, amounts, ChartType.AMOUNT);\r\n  }\r\n}\r\n","import TripPointsModel from '../model/trip-points';\r\nimport TripOffersModel from '../model/offers';\r\n\r\nconst Method = {\r\n  GET: 'GET',\r\n  PUT: 'PUT',\r\n  POST: 'POST',\r\n  DELETE: 'DELETE',\r\n};\r\n\r\nconst SuccessHTTPStatusRange = {\r\n  MIN: 200,\r\n  MAX: 299,\r\n};\r\n\r\nexport default class Api {\r\n  constructor(endPoint, authorization) {\r\n    this._endPoint = endPoint;\r\n    this._authorization = authorization;\r\n  }\r\n\r\n  getOffers() {\r\n    return this._load({url: 'offers'})\r\n      .then(Api.toJSON)\r\n      .then((offers) =>\r\n        offers)\r\n      .then((offers) => TripOffersModel.adaptOfferToClient(offers));\r\n  }\r\n\r\n  getDestinations() {\r\n    return this._load({url: 'destinations'})\r\n      .then(Api.toJSON)\r\n      .then((destinations) => destinations);\r\n  }\r\n\r\n  getPoints() {\r\n    return this._load({url: 'points'})\r\n      .then(Api.toJSON)\r\n      .then((points) => points.map(TripPointsModel.adaptPointToClient));\r\n  }\r\n\r\n  updatePoint(point) {\r\n    return this._load({\r\n      url: `points/${point.id}`,\r\n      method: Method.PUT,\r\n      body: JSON.stringify(TripPointsModel.adaptPointToServer(point)),\r\n      headers: new Headers({'Content-Type': 'application/json'}),\r\n    })\r\n      .then(Api.toJSON)\r\n      .then(TripPointsModel.adaptPointToClient);\r\n  }\r\n\r\n  addPoint(point) {\r\n    return this._load({\r\n      url: 'points/',\r\n      method: Method.POST,\r\n      body: JSON.stringify(TripPointsModel.adaptPointToServer(point)),\r\n      headers: new Headers({'Content-Type': 'application/json'}),\r\n    })\r\n      .then(Api.toJSON)\r\n      .then(TripPointsModel.adaptPointToClient);\r\n  }\r\n\r\n  removePoint(point) {\r\n    return this._load({\r\n      url: `points/${point.id}`,\r\n      method: Method.DELETE,\r\n    });\r\n  }\r\n\r\n  sync(data) {\r\n    return this._load({\r\n      url: 'points/sync',\r\n      method: Method.POST,\r\n      body: JSON.stringify(data),\r\n      headers: new Headers({'Content-Type': 'application/json'}),\r\n    })\r\n      .then(Api.toJSON);\r\n  }\r\n\r\n  _load({\r\n    url,\r\n    method = Method.GET,\r\n    body = null,\r\n    headers = new Headers(),\r\n  }) {\r\n    headers.append('Authorization', this._authorization);\r\n\r\n    return fetch(\r\n      `${this._endPoint}/${url}`,\r\n      {method, body, headers},\r\n    )\r\n      .then(Api.checkStatus)\r\n      .catch(Api.catchError);\r\n  }\r\n\r\n  static checkStatus(response) {\r\n    if (\r\n      response.status < SuccessHTTPStatusRange.MIN ||\r\n      response.status > SuccessHTTPStatusRange.MAX\r\n    ) {\r\n      throw new Error(`${response.status}: ${response.statusText}`);\r\n    }\r\n\r\n    return response;\r\n  }\r\n\r\n  static toJSON(response) {\r\n    return response.json();\r\n  }\r\n\r\n  static catchError(err) {\r\n    throw err;\r\n  }\r\n}\r\n","import TripPointsModel from '../model/trip-points';\r\nimport {isOnline} from '../util/common.js';\r\n\r\nconst getSyncedPoints = (items) => items\r\n  .filter(({success}) => success)\r\n  .map(({payload}) => payload.point);\r\n\r\nconst createStoreStructure = (items) => items\r\n  .reduce((acc, current) => Object\r\n    .assign({}, acc, {\r\n      [current.id]: current,\r\n    }), {});\r\n\r\nexport default class Provider {\r\n  constructor(api, store, storeStatic) {\r\n    this._api = api;\r\n    this._store = store;\r\n    this._storeStatic = storeStatic;\r\n  }\r\n\r\n  getOffers() {\r\n    if (isOnline()) {\r\n      return this._api.getOffers()\r\n        .then((offers) => {\r\n          this._storeStatic.setItem('offers', offers);\r\n          return offers;\r\n        });\r\n    }\r\n    const offersFromStore = this._storeStatic.getItems().offers;\r\n    return Promise.resolve(offersFromStore);\r\n  }\r\n\r\n  getDestinations() {\r\n    if (isOnline()) {\r\n      return this._api.getDestinations()\r\n        .then((destinations) => {\r\n          this._storeStatic.setItem('destinations', destinations);\r\n          return destinations;\r\n        });\r\n    }\r\n    const destinationsFromStore = this._storeStatic.getItems().destinations;\r\n    return Promise.resolve(destinationsFromStore);\r\n  }\r\n\r\n  getPoints() {\r\n    if (isOnline()) {\r\n      return this._api.getPoints()\r\n        .then((points) => {\r\n          const items = createStoreStructure(points.map(TripPointsModel.adaptPointToServer));\r\n          this._store.setItems(items);\r\n          return points;\r\n        });\r\n    }\r\n    const storePoints = Object.values(this._store.getItems());\r\n    return Promise.resolve(storePoints.map(TripPointsModel.adaptPointToClient));\r\n  }\r\n\r\n  updatePoint(point) {\r\n    if (isOnline()) {\r\n      return this._api.updatePoint(point)\r\n        .then((updatedPoint) => {\r\n          this._store.setItem(updatedPoint.id, TripPointsModel.adaptPointToServer(updatedPoint));\r\n          return updatedPoint;\r\n        });\r\n    }\r\n    this._store.setItem(point.id, TripPointsModel.adaptPointToServer(Object.assign({}, point)));\r\n    return Promise.resolve(point);\r\n  }\r\n\r\n  addPoint(point) {\r\n    if (isOnline()) {\r\n      return this._api.addPoint(point)\r\n        .then((newPoint) => {\r\n          this._store.setItem(newPoint.id, TripPointsModel.adaptPointToServer(newPoint));\r\n          return newPoint;\r\n        });\r\n    }\r\n    return Promise.reject(new Error('add point Failed'));\r\n  }\r\n\r\n  removePoint(point) {\r\n    if (isOnline()) {\r\n      return this._api.removePoint(point)\r\n        .then(() => {\r\n          this._store.removeItem(point.id);\r\n        });\r\n    }\r\n    return Promise.reject(new Error('remove point Failed'));\r\n  }\r\n\r\n  sync() {\r\n    if (isOnline()) {\r\n      const storePoints = Object.values(this._store.getItems());\r\n\r\n      return this._api.sync(storePoints)\r\n        .then((response) => {\r\n          //     \r\n          const createdPoints = getSyncedPoints(response.created);\r\n          const updatedPoints = getSyncedPoints(response.updated);\r\n\r\n          //     \r\n          //       \r\n          const items = createStoreStructure([...createdPoints, ...updatedPoints]);\r\n          this._store.setItems(items);\r\n        });\r\n    }\r\n    return Promise.reject(new Error('Sync data Failed'));\r\n  }\r\n}\r\n","export default class Store {\r\n  constructor(key, storage) {\r\n    this._storage = storage; // dependency injections ( )\r\n    this._storeKey = key;\r\n  }\r\n\r\n  getItems() {\r\n    try {\r\n      return JSON.parse(this._storage.getItem(this._storeKey)) || {};\r\n    } catch (err) {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  setItem(key, value) {\r\n    const store = this.getItems();\r\n\r\n    this._storage.setItem(\r\n      this._storeKey,\r\n      JSON.stringify(\r\n        Object.assign({}, store, {\r\n          [key]: value,\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  setItems(items) {\r\n    this._storage.setItem(\r\n      this._storeKey,\r\n      JSON.stringify(items)\r\n    );\r\n  }\r\n\r\n  removeItem(key) {\r\n    const store = this.getItems();\r\n\r\n    delete store[key];\r\n    this._storage.setItem(\r\n      this._storeKey,\r\n      JSON.stringify(store)\r\n    );\r\n  }\r\n}\r\n","import TripPointsModel from './model/trip-points.js';\nimport TripFilterModel from './model/filter.js';\nimport TripOffersModel from './model/offers.js';\nimport TripDestinationsModel from './model/destinations.js';\nimport TripPresenter from './presenter/trip.js';\nimport TripFilterPresenter from './presenter/filter.js';\nimport TripInfoPresenter from './presenter/trip-info.js';\nimport TripStatisticPresenter from './presenter/statistic.js';\nimport Api from './api/api.js';\nimport Provider from './api/provider.js';\nimport { UpdateType } from './const.js';\nimport { createErrorMessage } from './util/common.js';\nimport Store from './api/store.js';\n\nconst AUTHORIZATION = 'Basic dkjfn34tbhjdfhjgb34522';\nconst END_POINT = 'https://14.ecmascript.pages.academy/big-trip';\nconst STORE_PREFIX = 'taskmanager-localstorage';\nconst STORE_VER = 'v14';\nconst STORE_NAME = `${STORE_PREFIX}-${STORE_VER}`;\nconst STORE_NAME_STATIC = `${STORE_PREFIX}-STATIC-${STORE_VER}`;\n\nconst siteHeaderElement = document.querySelector('.page-header');\nconst tripMainHeaderElement = siteHeaderElement.querySelector('.trip-main');\nconst siteMainElement = document.querySelector('.page-main');\nconst tripEventsElement = siteMainElement.querySelector('.trip-events');\nconst tripControlsElement = tripMainHeaderElement.querySelector('.trip-main__trip-controls');\nconst newEventBtn = tripMainHeaderElement.querySelector('.trip-main__event-add-btn');\n\nconst api = new Api(END_POINT, AUTHORIZATION);\nconst store = new Store(STORE_NAME, window.localStorage);\nconst storeStatic = new Store(STORE_NAME_STATIC, window.localStorage);\nconst apiWithProvider = new Provider(api, store, storeStatic);\nconst filterModel = new TripFilterModel();\nconst tripOffersModel = new TripOffersModel();\nconst tripPointsModel = new TripPointsModel();\nconst tripDestinationsModel = new TripDestinationsModel();\n\nconst tripPresenter = new TripPresenter(tripEventsElement, tripPointsModel, filterModel, tripOffersModel, tripDestinationsModel, apiWithProvider);\ntripPresenter.init();\nconst tripInfoPresenter = new TripInfoPresenter(tripMainHeaderElement, tripPointsModel);\ntripInfoPresenter.init();\nconst tripFilterPresenter = new TripFilterPresenter(tripControlsElement, tripPointsModel, filterModel);\ntripFilterPresenter.init();\nconst tripStatisticPresenter = new TripStatisticPresenter(siteMainElement, tripPointsModel);\n\nnewEventBtn.addEventListener('click', tripPresenter._handleNewEventButtonClick);\n\nconst addStatistic = () => {\n  const tableBtn = tripControlsElement.querySelector('.trip-controls__trip-tabs').children[0];\n  const statsBtn = tripControlsElement.querySelector('.trip-controls__trip-tabs').children[1];\n\n  tableBtn.addEventListener('click', (evt) => {\n    evt.preventDefault();\n    tableBtn.classList.add('trip-tabs__btn--active');\n    statsBtn.classList.remove('trip-tabs__btn--active');\n    tripPresenter.show();\n    tripStatisticPresenter.hide();\n    tripFilterPresenter.enableFilters();\n    newEventBtn.disabled = false;\n  });\n  statsBtn.addEventListener('click', (evt) => {\n    evt.preventDefault();\n    tableBtn.classList.remove('trip-tabs__btn--active');\n    statsBtn.classList.add('trip-tabs__btn--active');\n    tripPresenter.hide();\n    tripStatisticPresenter.show();\n    tripFilterPresenter.disableFilters();\n    newEventBtn.disabled = true;\n\n  });\n};\naddStatistic();\n\n\napiWithProvider.getDestinations()\n  .then(TripDestinationsModel.adaptDestinationToClient)\n  .then((destinations) => {\n    tripDestinationsModel.setDestinations(destinations, UpdateType.INIT_DESTINATIONS);\n  }).catch((err) => {\n    createErrorMessage(err);\n    throw Error(err);\n  });\n\napiWithProvider.getOffers()\n  .then((offers) => {\n    tripOffersModel.setOffers(offers, UpdateType.INIT_OFFERS);\n  })\n  .catch((err) => {\n    createErrorMessage(err);\n    throw Error(err);\n  });\n\n\napiWithProvider.getPoints()\n  .then((points) => {\n    tripPointsModel.setPoints(points, UpdateType.INIT);\n  })\n  .catch((err) => {\n    tripPointsModel.setPoints([], UpdateType.INIT);\n    throw Error(err);\n  });\n\nwindow.addEventListener('load', () => {\n  navigator.serviceWorker.register('/sw.js');\n});\n\nwindow.addEventListener('online', () => {\n  document.title = document.title.replace(' [offline]', '');\n  apiWithProvider.sync();\n});\nwindow.addEventListener('offline', () => {\n  document.title += ' [offline]';\n});\n","import Observer from '../util/observer';\nimport { FilterType } from '../const';\n\nexport default class TripFilters extends Observer {\n  constructor() {\n    super();\n    this._activeFilter = FilterType.EVERYTHING;\n  }\n\n  setFilter(updateType, filterName) {\n    this._activeFilter = filterName;\n    this.notify(updateType, filterName);\n  }\n\n  getFilter() {\n    return this._activeFilter;\n  }\n\n}\n","import SortingView from '../view/trip-sorting.js';\nimport PointContainerView  from '../view/trip-point-container';\nimport NoPointView from '../view/trip-no-point.js';\nimport LoadingView from '../view/loading.js';\nimport PointPresenter, {State as PointPresenterViewState} from './point.js';\nimport NewPointPresenter from './new-point';\nimport {remove, render, RenderPosition } from '../util/render.js';\nimport { SortType, UserAction, UpdateType } from '../const.js';\nimport { sortByDate, sortByPrice, sortByTime } from '../util/point.js';\nimport { filter } from '../util/filter.js';\n\nexport default class Trip {\n  constructor(tripContainer, pointsModel, filterModel, offersModel, destinationsModel, api) {\n    this._tripContainer = tripContainer;\n    this._pointsModel = pointsModel;\n    this._filterModel = filterModel;\n    this._offersModel = offersModel;\n    this._destinationsModel = destinationsModel;\n    this._api = api;\n\n    this._handleViewAction = this._handleViewAction.bind(this);\n    this._handleModelEvent = this._handleModelEvent.bind(this);\n\n    this._tripListComponent = new PointContainerView();\n    this._newPointComponent = new NewPointPresenter(this._tripListComponent, this._handleViewAction);\n    this._loadingComponent = new LoadingView();\n    this._noPointsComponent = null;\n    this._sortingComponent = null;\n\n    this._pointPresenter = {};\n    this._isLoading = true;\n    this._isLoadingOffers = true;\n    this._isLoadingDestinations = true;\n\n    this._offers = null;\n    this._destinations = null;\n\n    this._handleChangeMode = this._handleChangeMode.bind(this);\n    this._handleSortClick = this._handleSortClick.bind(this);\n    this._handleNewEventButtonClick = this._handleNewEventButtonClick.bind(this);\n    this._renderTrip = this._renderTrip.bind(this); // to send it to newPointPresenter\n    this._currentSortType = SortType.DATE;\n\n  }\n\n  init() {\n    this._renderTrip();\n    this._pointsModel.addObserver(this._handleModelEvent);\n    this._filterModel.addObserver(this._handleModelEvent);\n    this._offersModel.addObserver(this._handleModelEvent);\n    this._destinationsModel.addObserver(this._handleModelEvent);\n  }\n\n  hide() {\n    this._sortingComponent.hide();\n    this._tripListComponent.hide();\n  }\n\n  show() {\n    this._sortingComponent.show();\n    this._tripListComponent.show();\n  }\n\n  isNoPoints() {\n    return this._getPoints().length === 0;\n  }\n\n  _getPoints() {\n\n    this._currentFilter = this._filterModel.getFilter();\n    this._filteredPoints = filter[this._currentFilter](this._pointsModel.getPoints());\n\n    switch (this._currentSortType) {\n      case SortType.DATE:\n        return this._filteredPoints\n          .slice()\n          .sort(sortByDate);\n      case SortType.PRICE:\n        return this._filteredPoints\n          .slice()\n          .sort(sortByPrice);\n      case SortType.TIME:\n        return this._filteredPoints\n          .slice()\n          .sort(sortByTime);\n    }\n    return this._pointsModel.getPoints();\n  }\n\n  _clearTrip() {\n\n    if (this._noPointsComponent !== null) {\n      remove(this._tripListComponent);\n      remove(this._noPointsComponent);\n      this._noPointsComponent = null;\n      return;\n    }\n\n    remove(this._sortingComponent);\n    remove(this._tripListComponent);\n    Object\n      .values(this._pointPresenter)\n      .forEach((presenter) => presenter.destroy());\n    this._pointPresenter = {};\n  }\n\n  _handleSortClick(sortType) {\n\n    if (sortType === this._currentSortType) {\n      return;\n    }\n    this._currentSortType = sortType;\n    this._clearTrip();\n    this._renderTrip();\n  }\n\n  _handleViewAction(actionType, updateType, update) {\n    switch (actionType) {\n      case UserAction.ADD_POINT:\n        this._newPointComponent.setSaving();\n        this._api.addPoint(update)\n          .then((response) => {\n            this._pointsModel.addPoint(updateType, response);\n          })\n          .catch(() => {\n            this._newPointComponent.setAborting();\n          });\n        break;\n      case UserAction.UPDATE_POINT:\n        this._pointPresenter[update.id].setViewState(PointPresenterViewState.SAVING);\n        this._api.updatePoint(update)\n          .then((response) => {\n            this._pointsModel.updatePoint(updateType, response);\n          })\n          .catch(() => {\n            this._pointPresenter[update.id].setViewState(PointPresenterViewState.ABORTING);\n          });\n        break;\n      case UserAction.DELETE_POINT:\n        this._pointPresenter[update.id].setViewState(PointPresenterViewState.DELETING);\n        this._api.removePoint(update)\n          .then(() => {\n            this._pointsModel.deletePoint(updateType, update);\n          })\n          .catch(() => {\n            this._pointPresenter[update.id].setViewState(PointPresenterViewState.ABORTING);\n          });\n        break;\n    }\n  }\n\n  _handleModelEvent(updateType, update) {\n    switch (updateType) {\n      case UpdateType.PATCH:\n        this._pointPresenter[update.id].init(update);\n        break;\n      case UpdateType.MINOR:\n        this._clearTrip();\n        this._currentSortType = SortType.DATE;\n        this._renderTrip();\n        break;\n      case UpdateType.MAJOR:\n        this._clearTrip();\n        this._currentSortType = SortType.DATE;\n        this._renderTrip();\n        break;\n      case UpdateType.INIT:\n        this._isLoading = false;\n        this._renderTrip();\n        break;\n      case UpdateType.INIT_OFFERS:\n        this._isLoadingOffers = false;\n        this._offers = this._offersModel.getOffers();\n        this._renderTrip();\n        break;\n      case UpdateType.INIT_DESTINATIONS:\n        this._isLoadingDestinations = false;\n        this._destinations = this._destinationsModel.getDestinations();\n        this._renderTrip();\n        break;\n    }\n  }\n\n  _handleChangeMode() {\n    if (this._newPointComponent._isRendered) {\n      this._newPointComponent.destroy();\n    }\n\n    Object.values(this._pointPresenter).forEach((value) => {\n      value.resetView();\n    });\n  }\n\n  _handleNewEventButtonClick() {\n    if (this.isNoPoints()) {\n      this._renderPointList();\n      remove(this._noPointsComponent);\n    }\n    this._handleChangeMode();\n    this._newPointComponent.init(this.isNoPoints(), this._renderTrip, this._offers, this._destinations);\n  }\n\n  _renderSorting() {\n    if (this._sortingComponent !== null) {\n      this._sortingComponent = null;\n    }\n\n    this._sortingComponent = new SortingView(this._currentSortType);\n    this._sortingComponent.setSortClick(this._handleSortClick);\n    render(this._tripContainer, this._sortingComponent, RenderPosition.START);\n  }\n\n  _renderPointList() {\n    render(this._tripContainer, this._tripListComponent, RenderPosition.END);\n  }\n\n  _renderPoint(pointData) {\n    const pointPresenter = new PointPresenter(this._tripListComponent, this._handleViewAction, this._handleChangeMode, this._offers, this._destinations);\n    pointPresenter.init(pointData);\n    this._pointPresenter[pointData.id] = pointPresenter;\n  }\n\n  _renderPoints() {\n    this._getPoints().forEach((element) => {\n      this._renderPoint(element);\n    });\n\n  }\n\n  _renderNoPoints() {\n    this._noPointsComponent = new NoPointView();\n    render(this._tripContainer, this._noPointsComponent);\n  }\n\n  _renderTrip() {\n    if (this._isLoading || this._isLoadingOffers || this._isLoadingDestinations) {\n      render(this._tripContainer, this._loadingComponent);\n      return;\n    }\n    remove(this._loadingComponent);\n    if (this.isNoPoints()) {\n      this._renderNoPoints();\n      return;\n    }\n    this._renderSorting();\n    this._renderPointList();\n    this._renderPoints();\n  }\n}\n","import Info from '../view/trip-info';\nimport { render, remove, RenderPosition } from '../util/render';\nimport { UpdateType } from '../const';\nimport {sortByDate} from '../util/point.js';\n\n\nexport default class TripInfo {\n  constructor(container, pointsModel) {\n    this._container = container;\n    this._pointsModel = pointsModel;\n\n    this._tripInfo = null;\n\n    this._isLoading = true;\n\n    this._handleModelEvent = this._handleModelEvent.bind(this);\n  }\n\n  init() {\n    this._tripInfo = new Info(this._pointsModel.getPoints().slice().sort(sortByDate));\n    this._renderInfo();\n\n    this._pointsModel.addObserver(this._handleModelEvent);\n  }\n\n  _handleModelEvent(updateType) {\n    switch (updateType) {\n      case UpdateType.MAJOR:\n        this._clearInfo();\n        this.init();\n        this._renderInfo();\n        break;\n      case UpdateType.INIT:\n        this._isLoading = false;\n        this.init();\n        this._renderInfo();\n        break;\n    }\n  }\n\n  _renderInfo() {\n    if (this._isLoading) {\n      return;\n    }\n    render(this._container, this._tripInfo, RenderPosition.START);\n  }\n\n  _clearInfo() {\n    remove(this._tripInfo);\n    this._pointsModel.removeObservers(this._handleModelEvent);\n  }\n}\n","import FiltersView from '../view/filter';\nimport { render, remove, RenderPosition } from '../util/render';\nimport { FilterType, UserAction, UpdateType } from '../const';\nimport {filter} from '../util/filter.js';\n\n\nexport default class TripFilter {\n  constructor(container, pointsModel, filterModel) {\n    this._container = container;\n    this._pointsModel = pointsModel;\n    this._filterModel = filterModel;\n\n    this._filters = null;\n    this._isLoading = true;\n\n    this._handleViewAction = this._handleViewAction.bind(this);\n    this._handleModelEvent = this._handleModelEvent.bind(this);\n    this._handleFilterClick = this._handleFilterClick.bind(this);\n  }\n\n  init() {\n    this._filters = new FiltersView(this.getFilters());\n\n    this._filters.setClickFilters(this._handleFilterClick);\n    this._renderFilters();\n\n    this._filterModel.addObserver(this._handleModelEvent);\n    this._pointsModel.addObserver(this._handleModelEvent);\n  }\n\n  getFilters() {\n    const points = this._pointsModel.getPoints();\n    const currFilter = this._filterModel.getFilter();\n    return [\n      {\n        type: FilterType.EVERYTHING,\n        amount: filter[FilterType.EVERYTHING](points).length,\n        isActive: (currFilter === FilterType.EVERYTHING),\n      },\n      {\n        type: FilterType.FUTURE,\n        amount: filter[FilterType.FUTURE](points).length,\n        isActive: (currFilter === FilterType.FUTURE),\n      },\n      {\n        type: FilterType.PAST,\n        amount: filter[FilterType.PAST](points).length,\n        isActive: (currFilter === FilterType.PAST),\n\n      }\n    ];\n  }\n\n  disableFilters() {\n    this._filters.disable();\n  }\n\n  enableFilters() {\n    this._filters.enable();\n  }\n\n  _handleViewAction(actionType, updateType, update) {\n    switch (actionType) {\n      case UserAction.ADD_POINT:\n        this._pointsModel.addPoint(updateType, update);\n        break;\n      case UserAction.UPDATE_POINT:\n        this._pointsModel.updatePoint(updateType, update);\n        break;\n      case UserAction.DELETE_POINT:\n        this._pointsModel.deletePoint(updateType, update);\n        break;\n      case UserAction.SELECT_FILTER:\n        this._filterModel.setFilter(updateType, update);\n        break;\n    }\n  }\n\n  _handleModelEvent(updateType) {\n    switch (updateType) {\n      case UpdateType.MAJOR:\n        this._clearFilters();\n        this.init();\n        this._renderFilters();\n        break;\n      case UpdateType.INIT:\n        this._isLoading = false;\n        this.init();\n        this._renderFilters();\n    }\n  }\n\n  _handleFilterClick(filterName) {\n    this._handleViewAction(UserAction.SELECT_FILTER, UpdateType.MINOR, filterName);\n  }\n\n  _renderFilters() {\n    if (this._isLoading) {\n      return;\n    }\n    render(this._container, this._filters, RenderPosition.END);\n  }\n\n  _clearFilters() {\n    remove(this._filters);\n    this._filterModel.removeObservers(this._handleModelEvent);\n    this._pointsModel.removeObservers(this._handleModelEvent);\n  }\n}\n","import StatisticView from '../view/statistic.js';\r\nimport { UpdateType } from '../const';\r\nimport { render, RenderPosition, remove } from '../util/render.js';\r\n\r\nexport default class TripStatistic {\r\n  constructor(statisticContainer, pointsModel) {\r\n    this._pointsModel = pointsModel;\r\n    this._statisticContainer = statisticContainer;\r\n    this._isLoading = true;\r\n\r\n    this._handleModelEvent = this._handleModelEvent.bind(this);\r\n    this._pointsModel.addObserver(this._handleModelEvent);\r\n    this.createStatistic();\r\n  }\r\n\r\n  createStatistic() {\r\n    if (this._isLoading) {\r\n      return;\r\n    }\r\n\r\n    if (this._statisticView) {\r\n      remove(this._statisticView);\r\n    }\r\n    this._statisticView = new StatisticView(this._pointsModel.getPoints());\r\n    render(this._statisticContainer, this._statisticView, RenderPosition.END);\r\n    this._statisticView.hide();\r\n  }\r\n\r\n  hide() {\r\n    this._statisticView.hide();\r\n  }\r\n\r\n  show() {\r\n    this._statisticView.show();\r\n  }\r\n\r\n  _handleModelEvent(updateType) {\r\n    switch (updateType) {\r\n      case UpdateType.MAJOR:\r\n        this.createStatistic();\r\n        break;\r\n      case UpdateType.INIT:\r\n        this._isLoading = false;\r\n        this.createStatistic();\r\n        break;\r\n    }\r\n  }\r\n}\r\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","e","n","r","s","u","a","o","f","h","c","d","$","l","y","M","name","weekdays","split","months","m","t","String","Array","g","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","v","_","S","args","arguments","O","locale","$L","utc","$u","x","$x","$offset","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","b","forEach","extend","$i","isDayjs","en","Ls","years","days","hours","minutes","seconds","milliseconds","weeks","$l","negative","parseFromMilliseconds","Object","keys","calMilliseconds","reduce","Y","as","humanize","fromNow","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","duration","isDuration","bind","assign","target","_i","TypeError","_loop_1","key","_a","args_1","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_index","memo","insert","style","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","getter","__esModule","definition","defineProperty","enumerable","prop","hasOwnProperty","Observer","constructor","_observers","addObserver","observer","removeObservers","filter","existedObserver","notify","event","payload","TripPoints","super","_points","setPoints","points","updateType","getPoints","updatePoint","findIndex","point","addPoint","deletePoint","static","serverPoint","type","city","destination","fromTime","toTime","price","base_price","favorite","description","photos","pictures","src","alt","offers","offer","title","clientPoint","SortType","UserAction","UpdateType","FilterType","ChartType","TripOffers","_offers","setOffers","getOffers","serverOffer","adaptedOffers","tempValues","values","TripDestinations","_destinations","setDestinations","destinations","getDestinations","serverDestination","RenderPosition","render","container","place","AbstractComponent","getElement","prepend","append","newChild","oldChild","parentElement","replaceChild","component","removeElement","_element","_callback","getTemplate","template","wrapper","innerHTML","firstElementChild","show","classList","hide","shake","cb","animation","setTimeout","Sorting","sortType","_sortType","_sortClickHandler","setSortClick","sortClick","addEventListener","evt","tagName","dataset","PointContainer","NoPoint","Loading","formatDuration","value","durDay","durHour","durMin","sortByDate","sortByTime","sortByPrice","pointData","_pointData","_clickHandler","_clickFavoriteHandler","setClickHandler","click","setClickFavoriteHandler","clickFavorite","removeClickHandler","removeEventListener","removeClickFavoriteHandler","period","startTime","endTime","generateDuration","acc","activeClass","createFavorites","preventDefault","ErrorMessage","error","_error","isOnline","navigator","onLine","err","errMsg","body","getRandomValueFromArr","arr","randomValue","max","trunc","randomFloat","random","getRandomInt","Smart","restoreHandlers","updateElement","oldElement","newElement","updateData","isSmallUpdate","_pointState","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","userAgent","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","console","warn","getWeek","givenDate","setHours","setDate","week1","hourIncrement","ignoredFocusElements","inline","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","time_24hr","weekNumbers","wrap","english","shorthand","longhand","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","bool","debounce","fn","wait","_this","clearTimeout","arrayify","toggleClass","elem","className","tag","textContent","clearNode","node","findParent","condition","createNumberInput","inputClassName","opts","numInput","arrowUp","arrowDown","pattern","getEventTarget","composedPath","doNothing","monthToStr","monthNumber","revFormat","F","dateObj","monthName","setMonth","G","hour","parseFloat","J","day","K","RegExp","shortMonth","setSeconds","U","unixSeconds","W","weekNum","weekNumber","parseInt","setFullYear","ISODate","setMinutes","j","unixMillSeconds","tokenRegex","formats","createDateFormatter","_b","config","_c","l10n","_d","isMobile","frmt","overrideLocale","formatDate","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","exec","val","isNaN","compareDates","date1","date2","calculateSecondsSinceMidnight","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","__assign","__spreadArrays","il","jl","FlatpickrInstance","instanceConfig","self","flatpickr","defaultConfig","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","setCalendarWidth","requestAnimationFrame","visibility","display","daysContainer","daysWidth","offsetWidth","width","weekWrapper","removeProperty","updateTime","selectedDates","defaultDate","latestSelectedDateObj","isKeyDown","eventTarget","input","getAttribute","step","curValue","newValue","delta","which","isHourElem","hourElement","isMinuteElem","minuteElement","incrementNumInput","timeWrapper","prevValue","_input","setHoursFromInputs","updateValue","_debouncedChange","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","secondsSinceMidnight","parseSeconds","setHoursFromDate","onYearInput","changeYear","handler","ev","el","_handlers","triggerChange","triggerEvent","jumpToDate","jumpDate","jumpTo","oldYear","currentYear","oldMonth","currentMonth","message","buildMonthSwitch","redraw","timeIncrement","contains","inputElem","createEvent","dispatchEvent","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","todayDateElem","tabIndex","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","onMouseOver","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","focusOnDay","current","offset","dayFocused","isInView","startElem","givenMonth","loopDelta","numMonthDays","changeMonth","getNextAvailableDay","buildMonthDays","firstOfMonth","prevMonthDays","utils","getDaysInMonth","createDocumentFragment","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","buildDays","frag","shouldBuildMonth","monthsDropdownContainer","selected","buildMonth","monthElement","monthNavFragment","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","monthNav","prevMonthNav","yearElements","monthElements","nextMonthNav","buildWeekdays","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","isCalendarElem","documentClick","isOpen","eventTarget_1","isCalendarElement","lostFocus","path","relatedTarget","isIgnored","some","timeContainer","close","clear","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","from","to","onBlur","isInput","allowKeydown","allowInlineKeydown","keyCode","blur","open","isTimeObj","focusAndClose","selectDate","delta_1","ctrlKey","stopPropagation","currentYearElement","elems","pluginElements","shiftKey","charAt","cellClass","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","rContainer","querySelectorAll","dayElem","ts","ts1","ts2","timestamp","outOfRange","onResize","positionCalendar","minMaxDateSetter","inverseDateObj","removeAttribute","getInputElem","setupLocale","l10ns","default","customPositionElement","_positionElement","calendarHeight","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","editableSheet","styleSheets","sheet","cssRules","getDocumentStyleSheet","bodyWidth","centerLeft","centerIndex","centerStyle","insertRule","centerBefore","msMaxTouchPoints","selectedDate","shouldChangeMonth","selectedIndex","sort","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","triggerChangeEvent","toInitial","mobileInput","_initialDate","_createElement","destroy","lastChild","insertBefore","_type","wasOpen","select","option","CALLBACKS","setSelectedDate","toggle","updatePositionElement","inputDate","dates","parseDateRules","rule","hooks","initEvent","getDateStr","dObj","mobileFormatStr","onMonthNavClick","isPrevMonth","isNextMonth","boolOpts","userConfig","_enable","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","parseConfig","nodeName","placeholder","required","nextSibling","preloadedDate","setupDates","yr","fragment","__hidePrevMonthArrow","__hideNextMonthArrow","innerContainer","buildWeeks","separator","hourInput","minuteInput","military2ampm","secondInput","buildTime","customAppend","appendTo","nodeType","build","inputType","defaultValue","setupMobile","debouncedResize","ontouchstart","capture","bindEvents","isSafari","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","localize","setDefaults","jQuery","fp_incr","DATE_FORMAT","EditPoint","offersData","destinationsData","isNewPoint","parseDataToState","_offersData","_destinationsData","_datePickerFromTime","_datePickerToTime","Boolean","_clickPointerHandler","_submitHandler","_clickDelHandler","_clickEventsHandler","_changeCityHandler","_changePriceHandler","_changeFromTimeHandler","_changeToTimeHandler","_changeOffersHandler","clickEvents","_setInnerHandlers","_setDatePickerFromTime","_setDatePickerToTime","setClickDelHandler","clickDel","clickPointer","setSubmitHandler","submit","removeSubmitHandler","isNew","isDisabled","isSaving","isDeleting","addIcon","eventList","addEventElement","eventType","str","toUpperCase","addListOfEvents","cities","cityName","createCity","addPointEditHeader","exactOffers","totalOffers","pointOffers","pointOffer","addOffers","addDescription","photo","createPhoto","addPhotos","createPointEditDetailsDestination","addPointEditDetails","addPointEdit","reset","oldData","pasrseStateToData","newEvent","newCity","includes","setCustomValidity","reportValidity","currentOffersCopy","userDate","currElement","state","toastContainer","toast","toastItem","Mode","State","Point","pointListContainer","changeData","changeMode","_pointListContainer","_mode","_changeData","_changeMode","_pointComponent","_pointEditComponent","_handlePointClick","_handlePointFavoriteClick","_handleEditDelClick","_handleEditClick","_handleEditSubmit","_handleEscKeyDown","prevPointComponent","prevPointEditComponent","resetView","_replaceEditToPoint","setViewState","resetFormState","_replacePointToEdit","newPointData","newData","NewPoint","_isRendered","_isNewPoint","_addPointComponent","_handleAddPointDelClick","_handleAddPointClick","_handleAddPointSubmit","isNoPoints","renderTrip","createPointTemplate","_isNoPoints","_renderTrip","setSaving","setAborting","today","Filters","filters","_filters","_handleFilterClick","isActive","amount","createFilter","setClickFilters","filterClick","Info","_data","poinsData","generateRoute","requestAnimFrame","callback","throttled","thisArg","updateFn","updateArgs","ticking","rest","_toLeftRightCenter","align","_alignStartEnd","start","end","uid","isNullOrUndef","isArray","isObject","isNumberFinite","isFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","endsWith","each","loopable","reverse","len","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","clone$1","create","klen","isValidKey","_merger","tval","sval","merge","merger","mergeIf","_mergerIf","indexOfDotOrLength","idx","resolveObjectKey","pos","_capitalize","defined","isFunction","setsEqual","size","has","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","roundedRange","almostEquals","niceRange","pow","fraction","isNumber","epsilon","_setMinAndMaxByKey","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","B","C","E","hex","h1","h2","eq","lim","p2b","n2b","b2n","n2p","RGB_RE","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","rgb","rgb2hsl","calln","hsl2rgb","hue","map$1","X","V","T","R","P","N","L","I","names","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names$1","modHSL","ratio","tmp","proto","fromObject","functionParse","rgbParse","p1","p2","hwb2rgb","hsv2rgb","hueParse","Color","ret","unpacked","tkeys","ok","nk","unpack","transparent","nameParse","_rgb","_valid","valid","rgbString","hexString","isShort","hslString","mix","color","weight","me","c1","c2","w2","w1","alpha","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","overrides","descriptors","getScope$1","root","scope","_descriptors","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","intersect","maintainAspectRatio","onHover","onClick","parsing","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","override","route","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","local","_scriptable","startsWith","_indexable","_fallback","_measureText","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","area","margin","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","lines","strokeWidth","strokeColor","line","translation","fillStyle","textAlign","textBaseline","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","_readValueToProps","props","objProps","read","toTRBL","toTRBLCorners","toPadding","toFont","fallback","toFontString","resolve","inputs","info","cacheable","createContext","parentContext","_lookup","table","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","_arrayUnique","items","Set","_createResolver","scopes","prefixes","rootScopes","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","delete","_resolveScriptable","isIndexable","resolver","_resolveArray","_resolveWithContext","allKeys","configurable","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","next","d01","d12","s01","s12","fa","fb","capControlPoint","pt","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","splineCurveMonotone","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","positions","getPositionedStyle","styles","suffix","getRelativePosition","borderBox","boxSizing","paddings","borders","box","native","touches","offsetX","offsetY","shadowRoot","useOffsetPos","clientX","clientY","getCanvasPosition","round1","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","readUsedSize","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","formatNumber","num","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","propertyFn","between","compare","normalize","normalizeSegment","_boundSegment","segment","bounds","startBound","endBound","getSegment","inside","subStart","readStyle","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","styleChanged","prevStyle","animator","_request","_charts","_running","_lastDate","_notify","anims","callbacks","numSteps","initial","currentStep","_refresh","_update","remaining","running","draw","_active","_total","tick","pop","_getAnims","charts","complete","progress","listen","cur","_duration","stop","cancel","interpolators","boolean","factor","c0","Animation","cfg","currentValue","_fn","_easing","easing","_start","delay","_loop","_target","_prop","_from","_to","_promises","active","elapsed","remain","promises","Promise","res","rej","resolved","method","animationOptions","colors","properties","numbers","resize","animations","visible","Animations","_chart","_properties","configure","animatedProps","getOwnPropertyNames","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","all","awaitAll","then","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","getFirstScaleId","shift","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_parsing","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","getDatasetMeta","scaleID","_getOtherScale","_destroy","_dataCheck","adata","convertObjectDataToArray","isExtensible","object","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","minDefined","maxDefined","getUserBounds","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","bars","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","last","grouped","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","_index_","grid","_value_","beginAtZero","BubbleController","getPixelForDecimal","tooltip","DoughnutController","innerRadius","outerRadius","_getRotation","_getCircumference","circumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","aspectRatio","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","animationsDisabled","pointCount","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_datasetIndex","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","DateAdapter","unit","weekday","members","adapters","_date","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestCartesianItems","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","fullSize","setBoxDims","placeBoxes","userPadding","padding","placed","stackWeight","autoPadding","layouts","addBox","_layers","removeBox","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","buildStacks","setLayoutDims","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","getMaximumSize","isAttached","updateConfig","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","createAttachObserver","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","clientWidth","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","fromNativeEvent","addListener","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","proxies","$proxies","attach","detach","bbWidth","bbHeight","margins","containerSize","containerStyle","containerBorder","containerPadding","clientHeight","getContainerSize","isConnected","Element","tooltipPosition","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","newTicks","majorStart","majorEnd","grace","drawBorder","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_maxLength","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","beforeUpdate","tickOpts","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","ticksLimit","maxTicksLimit","_tickSize","maxScale","maxChart","determineMaxTicks","majorIndices","enabled","getMajorIndices","numMajorIndices","first","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","labelPadding","_computeLabelArea","drawBackground","fillRect","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","titleX","titleY","titleArgs","tz","gz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","routes","propertyParts","sourceName","sourceScope","parts","routeDefaults","registerDefaults","unregister","registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","camelMethod","PluginService","_init","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","getChart","moveNumericKeys","intKey","Chart","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","resizeDelay","_initialize","_resizeBeforeDraw","_resize","newSize","newRatio","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","invalidatePlugins","clipArc","pixelMargin","angleMargin","rThetaToXY","theta","pathArc","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStart","outerEnd","innerStart","innerEnd","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","parseBorderRadius$1","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","version","ArcElement","fullCircles","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","inner","lineJoin","drawFullCircleBorders","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","LineElement","_path","_segments","_pointsUpdated","segments","segmentOptions","findStartAndEnd","chartContext","baseStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","doSplitByStyles","splitByStyles","solidSegments","_computeSegments","interpolate","sub","_boundSegments","_interpolate","_getInterpolationMethod","interpolated","segmentMethod","strokePathWithCache","strokePathDirect","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","skipX","skipY","addNormalRectPath","inflateRect","refRect","BarElement","outer","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","boundingRects","addRectPath","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","_args","titleBlock","createTitle","WeakMap","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getTooltipSize","footer","boxWidth","boxHeight","bodyFont","titleFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","rtlHelper","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","usePointStyle","drawOptions","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","hasTooltipContent","globalAlpha","direction","original","getPropertyPriority","setProperty","prevTextDirection","overrideTextDirection","textDirection","restoreTextDirection","positionChanged","_positionChanged","_ignoreReplayEvents","handleEvent","CategoryScale","_startValue","_valueRange","_addedLabels","added","addedLabels","unshift","addIfString","lastIndexOf","findOrAddLabel","relativeLabelSize","minSpacing","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getTickLimit","maxTicks","stepSize","computeTickLimit","generationOptions","dataRange","precision","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","generateTicks$1","LinearScale","isMajor","tickVal","LogarithmicScale","_zero","exp","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","updateLimits","limits","hLimits","vLimits","getTextAlignForAngle","yForAngle","pathRadiusLine","labelCount","getPointPosition","RadialLinearScale","drawingArea","_pointLabels","_pointLabelItems","valueCount","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","plFont","setCenterPoint","extra","outerDistance","pointLabelPosition","buildPointLabelItems","fitWithPointLabels","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","drawPointLabels","gridLineOpts","drawRadiusLine","INTERVALS","millisecond","common","steps","second","minute","week","quarter","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","screen","deviceXDPI","logicalXDPI","orient","origin","x0","y0","dx","dy","ln","region","compute$1","anchor","clamp","r0","r1","clipped","vx","vy","aligned","rx","ry","sx","sy","rasterize","getScaleOrigin","drawTextLine","shadow","shadowBlur","stroked","filled","Label","_model","_rects","_el","_modelize","positioner","textShadowBlur","textShadowColor","model","th","tw","tx","ty","frame","geometry","bgColor","drawRoundedRect","drawFrame","textGeometry","shadowColor","drawText","MIN_INTEGER","MAX_INTEGER","rotated","cx","cy","projected","dp","toAxis","HitBox","_rotation","_rect","coordinates","vs","intersects","pr0","pr1","axes","prepare","$layout","_box","_hidable","_visible","_set","sa","sb","dirty","collider","s0","s1","collide","h0","compute","lookup","DEFAULT_KEY","callback$1","groups","$groups","_key","_dirty","beforeInit","_actives","expando","_listened","_datasets","_labels","afterDatasetUpdate","datalabels","configs","afterDatasetsDraw","beforeEvent","enter","leave","_hovered","dispatchMoveEvents","handleMoveEvents","handlers","handleClickEvents","afterEvent","updates","createChart","containerElement","chartType","formatLabel","fontColor","Statistic","pointsData","_pointsData","createCharts","chartElement","moneyCtx","timeCtx","typeCtx","chartData","currEvent","totalPrice","createChartData","prices","periods","amounts","Method","Api","endPoint","authorization","_endPoint","_authorization","_load","url","headers","Headers","removePoint","sync","fetch","checkStatus","catch","catchError","response","status","statusText","json","getSyncedPoints","success","createStoreStructure","Store","_storeKey","getItems","getItem","setItem","store","setItems","removeItem","STORE_PREFIX","STORE_NAME","STORE_NAME_STATIC","tripMainHeaderElement","siteMainElement","tripEventsElement","tripControlsElement","newEventBtn","localStorage","storeStatic","apiWithProvider","_api","_store","_storeStatic","offersFromStore","destinationsFromStore","storePoints","updatedPoint","newPoint","reject","createdPoints","created","updatedPoints","filterModel","_activeFilter","setFilter","filterName","getFilter","tripOffersModel","tripPointsModel","tripDestinationsModel","tripPresenter","tripContainer","pointsModel","offersModel","destinationsModel","_tripContainer","_pointsModel","_filterModel","_offersModel","_destinationsModel","_handleViewAction","_handleModelEvent","_tripListComponent","_newPointComponent","_loadingComponent","_noPointsComponent","_sortingComponent","_pointPresenter","_isLoading","_isLoadingOffers","_isLoadingDestinations","_handleChangeMode","_handleSortClick","_handleNewEventButtonClick","_currentSortType","_getPoints","_currentFilter","_filteredPoints","_clearTrip","presenter","actionType","_renderPointList","_renderSorting","_renderPoint","pointPresenter","_renderPoints","_renderNoPoints","_container","_tripInfo","_renderInfo","_clearInfo","tripFilterPresenter","getFilters","_renderFilters","currFilter","disableFilters","enableFilters","_clearFilters","tripStatisticPresenter","statisticContainer","_statisticContainer","createStatistic","_statisticView","tableBtn","statsBtn","addStatistic","serviceWorker"],"sourceRoot":""}